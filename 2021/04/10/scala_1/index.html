<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>大数据开发必备技能，Scala 零基础笔记 | 程序园</title><meta name="keywords" content="大数据,Scala"><meta name="author" content="一位木带感情的码农"><meta name="copyright" content="一位木带感情的码农"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="在大数据开发的过程中 Scala 是必不可少的，无论是 Spark 还是 Flink，Scala 都有着完善的 API，本文参考了尚硅谷及其他培训机构的课件整合而来，想学好大数据开发的朋友可以仔细学习本篇笔记内容。">
<meta property="og:type" content="article">
<meta property="og:title" content="大数据开发必备技能，Scala 零基础笔记">
<meta property="og:url" content="https://www.progrem-park.top/2021/04/10/scala_1/index.html">
<meta property="og:site_name" content="程序园">
<meta property="og:description" content="在大数据开发的过程中 Scala 是必不可少的，无论是 Spark 还是 Flink，Scala 都有着完善的 API，本文参考了尚硅谷及其他培训机构的课件整合而来，想学好大数据开发的朋友可以仔细学习本篇笔记内容。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.progrem-park.top/img/scala/1.png">
<meta property="article:published_time" content="2021-04-10T06:55:51.000Z">
<meta property="article:modified_time" content="2022-12-05T04:36:25.380Z">
<meta property="article:author" content="一位木带感情的码农">
<meta property="article:tag" content="大数据">
<meta property="article:tag" content="Scala">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.progrem-park.top/img/scala/1.png"><link rel="shortcut icon" href="/img/favicon_logo/favicon.png"><link rel="canonical" href="https://www.progrem-park.top/2021/04/10/scala_1/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":350},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":30,"languages":{"author":"作者: 一位木带感情的码农","link":"链接: ","source":"来源: 程序园","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '大数据开发必备技能，Scala 零基础笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-12-05 12:36:25'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatat_img.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">200</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">35</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">25</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">程序园</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">大数据开发必备技能，Scala 零基础笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2021-04-10T06:55:51.000Z" title="发表于 2021-04-10 14:55:51">2021-04-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Scala/">Scala</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">26.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>111分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="大数据开发必备技能，Scala 零基础笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h1 id="一、scala的定义">一、scala的定义</h1>
<h2 id="语言特点">语言特点</h2>
<p><strong>Scala是一门以Java虚拟机（JVM）为运行环境并将<font color=red >面向对象</font>和<font color=red >函数式编程</font>的最佳特性结合在一起的<font color=red >静态类型编程语言</font>（静态语言需要提前编译的如：Java、c、c++等，动态语言如：js）</strong></p>
<ul>
<li><strong>Scala是一门<font color=red >多范式</font>的编程语言，支持面向对象和函数式编程（多范式，就是多种编程方法的意思。有面向过程、面向对象、泛型、函数式四种程序设计方法）</strong></li>
<li><strong>Scala源代码（.scala）会被编译成Java字节码（.class），然后运行于JVM之上，<font color=red >并可以调用现有的Java类库，实现两种语言的无缝对接</font></strong></li>
<li><strong>Scala单作为一门语言来看，非常的<font color=red >简洁高效</font></strong></li>
<li><strong>Scala在设计时，马丁·奥德斯基是参考了Java的设计思想，可以说Scala是源于Java，同时马丁·奥德斯基也加入了自己的思想，将<font color=red >函数式编程语言的特点融合到Java中</font>, 因此，对于学习过Java的同学，只要在学习Scala的过程中，搞清楚Scala和Java相同点和不同点，就可以快速的掌握Scala这门语言</strong></li>
</ul>
<h2 id="环境搭建及插件安装">环境搭建及插件安装</h2>
<h3 id="1-环境搭建">1.环境搭建</h3>
<ul>
<li><strong>首先确保JDK1.8安装成功</strong></li>
<li><strong>下载对应的 Scala 安装文件并解压</strong></li>
<li><strong>配置Scala的环境变量</strong></li>
</ul>
<h3 id="2-插件安装">2.插件安装</h3>
<ul>
<li><strong>在线安装（推荐）</strong>
<ul>
<li>在搜索插件框里面输入 Scala-&gt;点击 Install-&gt;点击 ok-&gt;点击 apply</li>
</ul>
</li>
<li><strong>离线安装</strong>
<ul>
<li>将插件放在Scala的安装目录下（这里就不放资源了，有需要的小伙伴可上网下载，网上的这种资源一搜就有）</li>
<li>打开IDEA，点击左上角File-&gt;点击下拉框的Settings…-&gt;点击Plugins-&gt;点击右下角Install plugin from disk… ， 找到自己对应的插件存储路径，最后点击ok即可</li>
</ul>
</li>
</ul>
<h2 id="HelloWorld案例">HelloWorld案例</h2>
<ul>
<li><strong>打开 IDEA-&gt;点击左侧的 Flie-&gt;选择 New-&gt;选择 Project…</strong></li>
<li><strong>创建一个 Maven 工程，并点击 next</strong></li>
<li><strong>输入自定义的GroupId和ArtifactId，然后点击Next（<font color=red >工程存储路径一定不能有中文和空格</font>）</strong></li>
<li><strong>指定项目工作目录空间</strong></li>
<li><strong>Maven默认不支持Scala的开发，需要引入Scala的框架</strong>
<ul>
<li>在自己创建的项目上，右击键-&gt;Add Framework Support…-&gt;选择Scala-&gt;点击OK（如果是第一次引入需要选择自己的Scala安装目录，工具就会自动识别）</li>
</ul>
</li>
<li><strong>创建项目的源文件目录</strong>
<ul>
<li>右键点击main目录-&gt;New-&gt;点击Diretory-&gt;写个名字（比如 scala）</li>
<li>右键点击scala目录-&gt;Mark Directory as-&gt;选择Sources root，可以看到文件夹颜色发生了变化</li>
</ul>
</li>
<li><strong>在scala包下，创建包com.demo包名和Hello类名</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  object:关键字，声明一个单例对象（伴生对象）</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">demo1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">      main方法：从外部可以直接调用执行的方法</span></span><br><span class="line"><span class="comment">      def 方法名称(参数名称 : 参数类型): 返回值类型 = &#123;方法体&#125;</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;hello word&quot;</span>)</span><br><span class="line">    <span class="type">System</span>.out.println(<span class="string">&quot;hello word&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hello word</span><br><span class="line">hello word</span><br></pre></td></tr></table></figure>
<h1 id="二、变量和数据类型">二、变量和数据类型</h1>
<h2 id="注释">注释</h2>
<p><strong>Scala注释使用和Java完全一样</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//单行注释</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 多行注释</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 文档注释</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<h2 id="变量和常量">变量和常量</h2>
<p><strong>常量指在程序执行的过程中，其值不会被改变的变量</strong></p>
<ul>
<li><strong>基本语法</strong>
<ul>
<li>var 变量名 [: 变量类型] = 初始值
<ul>
<li>var i : Int = 10</li>
</ul>
</li>
<li>val 常量名 [: 常量类型] = 初始值
<ul>
<li>val j : Int = 20</li>
</ul>
</li>
<li><font color=red >Scala中能用常量的地方不用变量</font></li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"><span class="comment">//    声明一个变量的通用语法</span></span><br><span class="line">    <span class="keyword">var</span> a: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line"><span class="comment">//    1)声明变量时，类型可以省略，编译器自动推导，即类型推导</span></span><br><span class="line">    <span class="keyword">var</span> a1 = <span class="number">10</span></span><br><span class="line">    <span class="keyword">val</span> b1 = <span class="number">20</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//    2)类型确定后，就不能修改，说明Scala是强数据类型语言</span></span><br><span class="line">    <span class="keyword">var</span> a2 = <span class="number">15</span> <span class="comment">//a2类型为Int</span></span><br><span class="line"><span class="comment">//    a2 = &quot;hello&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    3）变量声明时，必须有初始值</span></span><br><span class="line"><span class="comment">//    var a3: Int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    4)在声明/定义一个变量时，可以使用var或者val来修饰，var修饰的变量可改变，val修饰的变量不可改</span></span><br><span class="line">    a1 = <span class="number">12</span></span><br><span class="line"><span class="comment">//    b1 = 21</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> alice = <span class="keyword">new</span> <span class="type">Student</span>(<span class="string">&quot;alice&quot;</span>, <span class="number">20</span>)</span><br><span class="line">    alice = <span class="keyword">new</span> <span class="type">Student</span>(<span class="string">&quot;Alice&quot;</span>, <span class="number">20</span>)</span><br><span class="line">    alice = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">val</span> bob = <span class="keyword">new</span> <span class="type">Student</span>(<span class="string">&quot;bob&quot;</span>, <span class="number">20</span>)</span><br><span class="line">    bob.age = <span class="number">24</span></span><br><span class="line">    bob.printInfo()</span><br><span class="line"><span class="comment">//    bob = new Student(&quot;Bob&quot;, 20)</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bob 24 atguigu</span><br></pre></td></tr></table></figure>
<h2 id="标识符的命名规范">标识符的命名规范</h2>
<p><strong>Scala 对各种变量、方法、函数等命名时使用的字符序列称为标识符（凡是自己可以起名字的地方都叫标识符）</strong></p>
<ul>
<li>以字母或者下划线开头，后接字母、数字、下划线</li>
<li>以操作符开头，且只包含操作符（+ - * / # !等）</li>
<li>用反引号`…`包括的任意字符串，即使是 Scala 关键字（39 个）也可以</li>
</ul>
<h2 id="字符串输出">字符串输出</h2>
<ul>
<li><strong>基本语法</strong>
<ul>
<li>字符串，通过+号连接</li>
<li>printf 用法：字符串，通过%传值</li>
<li>字符串模板（插值字符串）：通过$获取变量值</li>
</ul>
</li>
<li><strong>案例实操</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    1)字符串，通过+号连接</span></span><br><span class="line">    <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;alice&quot;</span></span><br><span class="line">    <span class="keyword">val</span> age: <span class="type">Int</span> = <span class="number">18</span></span><br><span class="line">    println(age + <span class="string">&quot;岁的&quot;</span> + name)</span><br><span class="line"><span class="comment">//    *用于将一个字符串复制多次并拼接</span></span><br><span class="line">    println(name * <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//    2)printf用法：字符串，通过%传值</span></span><br><span class="line">    printf(<span class="string">&quot;%d岁的%s在学习&quot;</span>, age, name)</span><br><span class="line">    println()</span><br><span class="line"></span><br><span class="line"><span class="comment">//    3)字符串模板（插值字符串）：通过$获取变量值</span></span><br><span class="line">    println(<span class="string">s&quot;<span class="subst">$&#123;age&#125;</span>岁的<span class="subst">$&#123;name&#125;</span>在学习&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> num: <span class="type">Double</span> = <span class="number">2.345</span></span><br><span class="line">    println(<span class="string">f&quot;The num is <span class="subst">$&#123;num&#125;</span>%2.2f&quot;</span>)   <span class="comment">//格式化模板字符串</span></span><br><span class="line">    println(<span class="string">raw&quot;The num is <span class="subst">$&#123;num&#125;</span>%2.2f&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//    三引号表示字符串，保持多行字符串的原格式输出</span></span><br><span class="line">    <span class="keyword">val</span> sql = <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">       |select *</span></span><br><span class="line"><span class="string">       |from</span></span><br><span class="line"><span class="string">       |  student</span></span><br><span class="line"><span class="string">       |where</span></span><br><span class="line"><span class="string">       |  name = $&#123;name&#125;</span></span><br><span class="line"><span class="string">       |and</span></span><br><span class="line"><span class="string">       |  age &gt; $&#123;age&#125;</span></span><br><span class="line"><span class="string">       |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin</span><br><span class="line">    println(sql)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">18岁的alice</span><br><span class="line">alicealicealice</span><br><span class="line">18岁的alice在学习</span><br><span class="line">18岁的alice在学习</span><br><span class="line">The num is 2.35</span><br><span class="line">The num is 2.345%2.2f</span><br><span class="line"></span><br><span class="line">select *</span><br><span class="line">from</span><br><span class="line">  student</span><br><span class="line">where</span><br><span class="line">  name = alice</span><br><span class="line">and</span><br><span class="line">  age &gt; 18</span><br></pre></td></tr></table></figure>
<h2 id="键盘输入">键盘输入</h2>
<p><strong>在编程中，需要接收用户输入的数据，就可以使用键盘输入语句来获取</strong></p>
<ul>
<li><strong>基本语法</strong>
<ul>
<li>StdIn.readLine()、StdIn.readShort()、StdIn.readDouble()</li>
</ul>
</li>
<li><strong>案例实操</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    输入信息</span></span><br><span class="line">    println(<span class="string">&quot;请输入您的姓名：&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> name: <span class="type">String</span> = <span class="type">StdIn</span>.readLine()</span><br><span class="line">    println(<span class="string">&quot;请输入您的年龄：&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> age: <span class="type">Int</span> = <span class="type">StdIn</span>.readInt()</span><br><span class="line"></span><br><span class="line"><span class="comment">//    控制台打印输出</span></span><br><span class="line">    println(<span class="string">s&quot;欢迎<span class="subst">$&#123;age&#125;</span>岁的<span class="subst">$&#123;name&#125;</span>来到直播间&quot;</span>)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">请输入您的姓名：</span><br><span class="line">张三</span><br><span class="line">请输入您的年龄：</span><br><span class="line">31</span><br><span class="line">欢迎31岁的张三来到直播间</span><br></pre></td></tr></table></figure>
<h2 id="文件的读写操作">文件的读写操作</h2>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    1)从文件中读取数据</span></span><br><span class="line">    <span class="type">Source</span>.fromFile(<span class="string">&quot;src/main/resources/test.txt&quot;</span>).foreach(print)</span><br><span class="line"></span><br><span class="line"><span class="comment">//    2）将数据写入文件</span></span><br><span class="line">    <span class="keyword">val</span> writer = <span class="keyword">new</span> <span class="type">PrintWriter</span>(<span class="keyword">new</span> <span class="type">File</span>(<span class="string">&quot;src/main/resources/inputtest.txt&quot;</span>))</span><br><span class="line">    writer.write(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">    writer.close()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hello world</span><br><span class="line">hello scala</span><br><span class="line">okok</span><br></pre></td></tr></table></figure>
<h2 id="数据类型">数据类型</h2>
<ul>
<li><strong>Scala中一切数据都是对象，都是Any的子类</strong></li>
<li><strong>Scala中数据类型分为两大类：数值类型（AnyVal）、引用类型（AnyRef），<font color=red >不管是值类型还是引用类型都是对象</font></strong></li>
<li><strong>Scala数据类型仍然遵守，<font color=red >低精度的值类型向高精度值类型自动转换</font>（隐式转换）</strong></li>
<li><strong>Scala中的StringOps是对Java中的String增强</strong></li>
<li><strong>Unit：对应Java中的void，用于方法返回值的位置，表示方法没有返回值。<font color=red >Unit是 一个数据类型</font>，只有一个对象就是<font color=red >()</font>。Void不是数据类型，只是一个关键字</strong></li>
<li><strong><font color=red >Null是一个类型</font>，只有一个对象就 是null。<font color=red >它是所有引用类型（AnyRef）的子类</font></strong></li>
<li><strong><font color=red >Nothing是所有数据类型的子类</font>，主要用在一个函数没有明确返回值时使用，因为这样我们可以把抛出的返回值，返回给任何的变量或者函数</strong></li>
</ul>
<h3 id="1-整数类型（Byte、Short、Int、Long）">1.整数类型（Byte、Short、Int、Long）</h3>
<p><strong>Scala的整数类型就是用于存放整数值的，比如12，30，3456等</strong></p>
<table>
	<tr align=center>
		<th>数据类型</th>
		<th>描述</th>
	</tr>
	<tr align=center>
		<td>Byte[1]</td>
		<td align=left>8位有符号补码整数,数值区间为 -128到127</td>
	</tr>
	<tr align=center>
		<td>Short[2]</td>
		<td align=left>16位有符号补码整数，数值区间为 -32768到32767</td>
	</tr>
	<tr align=center>
		<td>Int[4]</td>
		<td align=left>32位有符号补码整数，数值区间为 -2147483648到2147483647</td>
	</tr>
	<tr align=center>
		<td>Long[8]</td>
		<td align=left>64位有符号补码整数，数值区间为 -9223372036854775808 到 9223372036854775807 = 2 的(64-1)次方-1</td>
	</tr>
</table>
<ul>
<li><strong>Scala各整数类型有固定的表示范围和字段长度，不受具体操作的影响，以保证<br>
Scala 程序的可移植性</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	<span class="comment">// 正确</span></span><br><span class="line">	<span class="keyword">var</span> n1:<span class="type">Byte</span> = <span class="number">127</span></span><br><span class="line">	<span class="keyword">var</span> n2:<span class="type">Byte</span> = <span class="number">-128</span></span><br><span class="line">	<span class="comment">// 错误</span></span><br><span class="line">	<span class="comment">// var n3:Byte = 128</span></span><br><span class="line">	<span class="comment">// var n4:Byte = -129</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Scala 的整型，默认为Int型，声明Long型，须后加‘l’或‘L’</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	<span class="keyword">var</span> n5 = <span class="number">10</span></span><br><span class="line">	println(n5)</span><br><span class="line">	<span class="keyword">var</span> n6 = <span class="number">9223372036854775807</span>L</span><br><span class="line">	println(n6)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">10</span><br><span class="line">9223372036854775807</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Scala程序中变量常声明为Int型，除非不足以表示大数，才使用Long</strong></li>
</ul>
<h3 id="2-浮点类型（Float、Double）">2.浮点类型（Float、Double）</h3>
<p><strong>Scala的浮点类型可以表示一个小数，比如 123.4f，7.8，0.12 等等</strong></p>
<table>
	<tr align=center>
		<th>数据类型</th>
		<th>描述</th>
	</tr>
	<tr align=center>
		<td>Float [4]</td>
		<td align=left>32位, IEEE 754 标准的单精度浮点数</td>
	</tr>
	<tr align=center>
		<td>Double [8]</td>
		<td align=left>64位 IEEE 754 标准的双精度浮点数</td>
	</tr>
</table>
<ul>
<li><strong>Scala 的浮点型常量默认为 Double 型，声明 Float 型常量，须后加“f”或“F”</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	<span class="comment">// 在开发中需要高精度小数时，请选择 Double</span></span><br><span class="line">	<span class="keyword">var</span> n7 = <span class="number">2.2345678912</span>f</span><br><span class="line">	<span class="keyword">var</span> n8 = <span class="number">2.2345678912</span></span><br><span class="line">	println(<span class="string">&quot;n7=&quot;</span> + n7)</span><br><span class="line">	println(<span class="string">&quot;n8=&quot;</span> + n8)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">n7=2.2345679</span><br><span class="line">n8=2.2345678912</span><br></pre></td></tr></table></figure>
<h3 id="3-字符类型（Char）">3.字符类型（Char）</h3>
<p><strong>字符类型（Char）可以表示单个字符</strong></p>
<ul>
<li><strong>字符常量是用单引号 ’ ’ 括起来的单个字符</strong></li>
<li><strong>\t ：一个制表位，实现对齐的功能</strong></li>
<li><strong>\n ：换行符</strong></li>
<li><strong>\\ ：表示 \</strong></li>
<li><strong>\&quot; ：表示&quot;</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1）字符常量是用单引号 &#x27; &#x27; 括起来的单个字符。</span></span><br><span class="line">    <span class="keyword">var</span> c1: <span class="type">Char</span> = &#x27;a&#x27;</span><br><span class="line">    println(<span class="string">&quot;c1=&quot;</span> + c1)</span><br><span class="line">    <span class="comment">//注意：这里涉及自动类型提升，其实编译器可以自定判断是否超出范围，</span></span><br><span class="line">    <span class="comment">//不过 idea 提示报错</span></span><br><span class="line"><span class="comment">//    var c2:Char = &#x27;a&#x27; + 1</span></span><br><span class="line"><span class="comment">//    println(c2)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//2）\t ：一个制表位，实现对齐的功能</span></span><br><span class="line">    println(<span class="string">&quot;姓名\t 年龄&quot;</span>)</span><br><span class="line">    <span class="comment">//3）\n ：换行符</span></span><br><span class="line">    println(<span class="string">&quot;西门庆\n 潘金莲&quot;</span>)</span><br><span class="line">    <span class="comment">//4）\\ ：表示\</span></span><br><span class="line">    println(<span class="string">&quot;c:\\user\\local&quot;</span>)</span><br><span class="line">    <span class="comment">//5）\&quot; ：表示&quot;</span></span><br><span class="line">    println(<span class="string">&quot;同学们都说：\&quot;hello scala\&quot;&quot;</span>)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">c1=a</span><br><span class="line">姓名	 年龄</span><br><span class="line">西门庆</span><br><span class="line"> 潘金莲</span><br><span class="line">c:\user\local</span><br><span class="line">同学们都说：&quot;hello scala&quot;</span><br></pre></td></tr></table></figure>
<h3 id="4-布尔类型（Boolean）">4.布尔类型（Boolean）</h3>
<ul>
<li><strong>布尔类型也叫Boolean类型，Boolean类型数据只允许取值true和false</strong></li>
<li><strong>Boolean类型占1个字节</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">var</span> isResult : <span class="type">Boolean</span> = <span class="literal">false</span></span><br><span class="line">	<span class="keyword">var</span> isResult2 : <span class="type">Boolean</span> = <span class="literal">true</span></span><br><span class="line"> </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-Unit类型、Null类型和Nothing类型">5.Unit类型、Null类型和Nothing类型</h3>
<table>
	<tr align=center>
		<th>数据类型</th>
		<th>描述</th>
	</tr>
	<tr align=center>
		<td>Unit</td>
		<td align=left>表示无值，和其他语言中 void 等同。用作不返回任何结果的方法的结果类型。Unit 只有一个实例值，写成()</td>
	</tr>
	<tr align=center>
		<td>Null</td>
		<td align=left>null , Null 类型只有一个实例值 null</td>
	</tr>
	<tr align=center>
		<td>Nothing</td>
		<td align=left>Nothing 类型在 Scala 的类层级最低端；它是任何其他类型的子类型。当一个函数，我们确定没有正常的返回值，可以用 Nothing 来指定返回类型，这样有一个好处，就是我们可以把返回的值（异常）赋给其它的函数或者变量（兼容性）</td>
	</tr>
</table>
<ul>
<li><strong>Unit 类型用来标识过程，也就是没有明确返回值的函数</strong></li>
<li><strong>由此可见，Unit 类似于 Java 里的 void，Unit 只有一个实例——( )，这个实例也没有实质意义</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">sayOk</span> </span>: <span class="type">Unit</span> = &#123;<span class="comment">// unit 表示没有返回值，即 void</span></span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	println(sayOk)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">()</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Null 类只有一个实例对象，Null 类似于 Java 中的 null 引用。Null 可以赋值给任意引用类型（AnyRef），但是不能赋值给值类型（AnyVal）</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	<span class="comment">//null 可以赋值给任意引用类型（AnyRef），但是不能赋值给值类型</span></span><br><span class="line">	（<span class="type">AnyVal</span>）</span><br><span class="line">	 <span class="keyword">var</span> cat = <span class="keyword">new</span> <span class="type">Cat</span>();</span><br><span class="line">	 cat = <span class="literal">null</span> <span class="comment">// 正确</span></span><br><span class="line">	 <span class="keyword">var</span> n1: <span class="type">Int</span> = <span class="literal">null</span> <span class="comment">// 错误</span></span><br><span class="line">	 println(<span class="string">&quot;n1:&quot;</span> + n1)</span><br><span class="line"> &#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Nothing，可以作为没有正常返回值的方法的返回类型，非常直观的告诉你这个方法不会正常返回，而且由于 Nothing 是其他任意类型的子类，他还能跟要求返回值的方法兼容</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">test</span></span>() : <span class="type">Nothing</span>=&#123;</span><br><span class="line">	<span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Exception</span>()</span><br><span class="line">	&#125;</span><br><span class="line">	test</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="类型转换">类型转换</h2>
<h3 id="1-类型自动转换">1.类型自动转换</h3>
<p><strong>当 Scala 程序在进行赋值或者运算时，精度小的类型自动转换为精度大的数值类型，这个就是自动类型转换（隐式转换）。数据类型按精度（容量）大小排序为：</strong><br>
<img src="https://img-blog.csdnimg.cn/2021033015285326.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc1ODg3Ng==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li><strong>自动提升原则：有多种类型的数据混合运算时，系统首先自动将所有数据转换成精度大的那种数据类型，然后再进行计算</strong></li>
<li><strong>把精度大的数值类型赋值给精度小的数值类型时，就会报错，反之就会进行自动类型转换</strong></li>
<li><strong>（byte，short）和 char 之间不会相互自动转换</strong></li>
<li><strong>byte，short，char 这三者可以计算，在计算时首先转换为 int 类型</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">//1）自动提升原则：有多种类型的数据混合运算时，系统首先自动将所有数据转换成精度大的那种数值类型，然后再进行计算</span></span><br><span class="line">	<span class="keyword">var</span> n = <span class="number">1</span> + <span class="number">2.0</span></span><br><span class="line">	println(n) <span class="comment">// n 就是 Double</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//2）把精度大的数值类型赋值给精度小的数值类型时，就会报错，反之就会进行自动类型转换</span></span><br><span class="line">	<span class="keyword">var</span> n2 : <span class="type">Double</span>= <span class="number">1.0</span></span><br><span class="line">	<span class="comment">//var n3 : Int = n2 //错误，原因不能把高精度的数据直接赋值和低精度</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//3）（byte，short）和 char 之间不会相互自动转换</span></span><br><span class="line">	<span class="keyword">var</span> n4 : <span class="type">Byte</span> = <span class="number">1</span></span><br><span class="line">	<span class="comment">//var c1 : Char = n4 //错误</span></span><br><span class="line">	<span class="keyword">var</span> n5:<span class="type">Int</span> = n4</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//4）byte，short，char 他们三者可以计算，在计算时首先转换为 int类型</span></span><br><span class="line">	<span class="keyword">var</span> n6 : <span class="type">Byte</span> = <span class="number">1</span></span><br><span class="line">	<span class="keyword">var</span> c2 : <span class="type">Char</span> = <span class="number">1</span></span><br><span class="line">	<span class="comment">// var n : Short = n6 + c2 //当 n6 + c2 结果类型就是 int</span></span><br><span class="line">	<span class="comment">// var n7 : Short = 10 + 90 //错误</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3.0</span><br></pre></td></tr></table></figure>
<h3 id="2-强制类型转换">2.强制类型转换</h3>
<p><strong>自动类型转换的逆过程，将精度大的数值类型转换为精度小的数值类型。使用时要加上强制转函数，但可能造成精度降低或溢出</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1）将数据由高精度转换为低精度，就需要使用到强制转换</span></span><br><span class="line">    <span class="keyword">var</span> n1: <span class="type">Int</span> = <span class="number">2.5</span>.toInt <span class="comment">// 这个存在精度损失</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//2）强转符号只针对于最近的操作数有效，往往会使用小括号提升优先级</span></span><br><span class="line">    <span class="keyword">var</span> r1: <span class="type">Int</span> = <span class="number">10</span> * <span class="number">3.5</span>.toInt + <span class="number">6</span> * <span class="number">1.5</span>.toInt <span class="comment">// 10 *3 + 6*1 = 36</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> r2: <span class="type">Int</span> = (<span class="number">10</span> * <span class="number">3.5</span> + <span class="number">6</span> * <span class="number">1.5</span>).toInt <span class="comment">// 44.0.toInt = 44</span></span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;r1=&quot;</span> + r1 + <span class="string">&quot; r2=&quot;</span> + r2)</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r1=36 r2=44</span><br></pre></td></tr></table></figure>
<h3 id="3-数值类型和String类型转换">3.数值类型和String类型转换</h3>
<p><strong>在程序开发中，经常需要将基本数值类型转成 String 类型，或者将 String 类型转成基本数值类型</strong></p>
<ul>
<li><strong>基本类型转 String 类型（语法：将基本类型的值+“” 即可）</strong></li>
<li><strong>String 类型转基本数值类型（语法：s1.toInt、s1.toFloat、s1.toDouble、s1.toByte、s1.toLong、s1.toShort）</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//（1）基本类型转 String 类型（语法：将基本类型的值+&quot;&quot; 即可）</span></span><br><span class="line">    <span class="keyword">var</span> str1 : <span class="type">String</span> = <span class="literal">true</span> + <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">var</span> str2 : <span class="type">String</span> = <span class="number">4.5</span> + <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">var</span> str3 : <span class="type">String</span> = <span class="number">100</span> +<span class="string">&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//（2）String 类型转基本数值类型（语法：调用相关 API）</span></span><br><span class="line">    <span class="keyword">var</span> s1 : <span class="type">String</span> = <span class="string">&quot;12&quot;</span></span><br><span class="line">    <span class="keyword">var</span> n1 : <span class="type">Byte</span> = s1.toByte</span><br><span class="line">    <span class="keyword">var</span> n2 : <span class="type">Short</span> = s1.toShort</span><br><span class="line">    <span class="keyword">var</span> n3 : <span class="type">Int</span> = s1.toInt</span><br><span class="line">    <span class="keyword">var</span> n4 : <span class="type">Long</span> = s1.toLong</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p><strong><font color=red >注意事项：</font>在将 String 类型转成基本数值类型时，要确保 String 类型能够转成有效的数据，比如我们可以把&quot;123&quot;，转成一个整数，但是不能把&quot;hello&quot;转成一个整数</strong></p>
<h1 id="三、运算符">三、运算符</h1>
<h2 id="算术运算符">算术运算符</h2>
<table>
	<tr align=center>
		<th>运算符</th>
		<th>运算</th>
		<th>范例</th>
		<th>结果</th>
	</tr>
	<tr align=center>
		<td>+</td>
		<td>正号</td>
		<td>+3</td>
		<td>3</td>
	</tr>
	<tr align=center>
		<td>-</td>
		<td>负号</td>
		<td>b=4; -b</td>
		<td>-4</td>
	</tr>
	<tr align=center>
		<td>+</td>
		<td>加</td>
		<td>5+5</td>
		<td>10</td>
	</tr>
	<tr align=center>
		<td>-</td>
		<td>减</td>
		<td>6-4</td>
		<td>2</td>
	</tr>
	<tr align=center>
		<td>*</td>
		<td>乘</td>
		<td>3*4</td>
		<td>12</td>
	</tr>
	<tr align=center>
		<td>/</td>
		<td>除</td>
		<td>5/5</td>
		<td>1</td>
	</tr>
	<tr align=center>
		<td>%</td>
		<td>取模（取余）</td>
		<td>7%5</td>
		<td>2</td>
	</tr>
	<tr align=center>
		<td>+</td>
		<td>字符串相加</td>
		<td>"He"+"llo"</td>
		<td>"hello"</td>
	</tr>
</table>
<h2 id="关系运算符">关系运算符</h2>
<table>
	<tr align=center>
		<th>运算符</th>
		<th>运算</th>
		<th>范例</th>
		<th>结果</th>
	</tr>
	<tr align=center>
		<td>==</td>
		<td>相等于</td>
		<td>4==3</td>
		<td>false</td>
	</tr>
	<tr align=center>
		<td>!=</td>
		<td>不等于</td>
		<td>4 != 3</td>
		<td>true</td>
	</tr>
	<tr align=center>
		<td><</td>
		<td>小于</td>
		<td>4<3</td>
		<td>false</td>
	</tr>
	<tr align=center>
		<td>></td>
		<td>大于</td>
		<td>4>3</td>
		<td>true</td>
	</tr>
	<tr align=center>
		<td><=</td>
		<td>小于等于</td>
		<td>4<=3</td>
		<td>false</td>
	</tr>
	<tr align=center>
		<td>>=</td>
		<td>大于等于</td>
		<td>4>=3</td>
		<td>true</td>
	</tr>
</table>
<ul>
<li><strong>Java</strong>
<ul>
<li>==比较两个变量本身的值，即两个对象在内存中的首地址</li>
<li>equals比较字符串中所包含的内容是否相同</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">	<span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">	<span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">	System.out.println(s1 == s2);</span><br><span class="line">	System.out.println(s1.equals(s2));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">false</span><br><span class="line">true</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Scala</strong>
<ul>
<li>==更类似于Java中equals</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	<span class="keyword">val</span> s1 = <span class="string">&quot;abc&quot;</span></span><br><span class="line">	<span class="keyword">val</span> s2 = <span class="keyword">new</span> <span class="type">String</span>(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line">	println(s1 == s2)</span><br><span class="line">	println(s1.eq(s2))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">true</span><br><span class="line">false</span><br></pre></td></tr></table></figure>
<h2 id="逻辑运算符">逻辑运算符</h2>
<p><strong>用于连接多个条件（一般来讲就是关系表达式），最终的结果也是一个Boolean值</strong><br>
<font color=#999AAA ><strong>设：变量A为true，B为false</strong></font></p>
<table>
	<tr align=center>
		<th>运算符</th>
		<th>描述</th>
		<th>实例</th>
	</tr>
	<tr align=center>
		<td>&&</td>
		<td>逻辑与</td>
		<td>(A && B) 运算结果为 false</td>
	</tr>
	<tr align=center>
		<td>||</td>
		<td>逻辑或</td>
		<td>(A || B) 运算结果为 true</td>
	</tr>
	<tr align=center>
		<td>!</td>
		<td>逻辑非</td>
		<td>!(A && B) 运算结果为 true</td>
	</tr>
</table>
<h2 id="赋值运算符">赋值运算符</h2>
<p><strong>赋值运算符就是将某个运算后的值，赋给指定的变量</strong></p>
<table>
	<tr align=center>
		<th>运算符</th>
		<th align="left">描述</th>
		<th align="left">实例</th>
	</tr>
	<tr align=center>
		<td>=</td>
		<td align="left">简单的赋值运算符，将一个表达式的值赋给一个左值</td>
		<td align="left">C = A + B 将 A + B 表达式结果赋值给 C</td>
	</tr>
	<tr align=center>
		<td>+=</td>
		<td align="left">相加后再赋值</td>
		<td align="left">C += A 等于 C = C + A</td>
	</tr>
	<tr align=center>
		<td>-=</td>
		<td align="left">相减后再赋值</td>
		<td align="left">C -= A 等于 C = C - A</td>
	</tr>
	<tr align=center>
		<td>*=</td>
		<td align="left">相乘后再赋值</td>
		<td align="left">C *= A 等于 C = C * A</td>
	</tr>
	<tr align=center>
		<td>/=</td>
		<td align="left">相除后再赋值</td>
		<td align="left">C /= A 等于 C = C / A</td>
	</tr>
	<tr align=center>
		<td>%=</td>
		<td align="left">求余后再赋值</td>
		<td align="left">C %= A 等于 C = C % A</td>
	</tr>
	<tr align=center>
		<td><<=</td>
		<td align="left">左移后赋值</td>
		<td align="left">C <<= 2 等于 C = C << 2</td>
	</tr>
	<tr align=center>
		<td>>>=</td>
		<td align="left">右移后赋值</td>
		<td align="left">C >>= 2 等于 C = C >> 2</td>
	</tr>
	<tr align=center>
		<td>&=</td>
		<td align="left">按位与后赋值</td>
		<td align="left">C &= 2 等于 C = C & 2</td>
	</tr>
	<tr align=center>
		<td>^=</td>
		<td align="left">按位异或后赋值</td>
		<td align="left">C ^= 2 等于 C = C ^ 2</td>
	</tr>
	<tr align=center>
		<td>|=</td>
		<td align="left">按位或后赋值</td>
		<td align="left">C |= 2 等于 C = C | 2</td>
	</tr>
</table>
<p><font color=red><strong>注：</strong></font>Scala中没有++、–操作符，可以通过+=、-=来实现同样的效果</p>
<h2 id="位运算符">位运算符</h2>
<p><font color=#999AAA ><strong>设：表中变量a为60，b为13</strong></font></p>
<table>
	<tr align=center>
		<th>运算符</th>
		<th align="left">描述</th>
		<th align="left">实例</th>
	</tr>
	<tr align=center>
		<td>&</td>
		<td align="left">按位与运算符</td>
		<td align="left">(a & b) 输出结果 12 ，二进制解释： 0000 1100</td>
	</tr>
	<tr align=center>
		<td>|</td>
		<td align="left">按位或运算符</td>
		<td align="left">(a | b) 输出结果 61 ，二进制解释： 0011 1101</td>
	</tr>
	<tr align=center>
		<td>^</td>
		<td align="left">按位异或运算符</td>
		<td align="left">(a ^ b) 输出结果 49 ，二进制解释： 0011 0001</td>
	</tr>
	<tr align=center>
		<td>~</td>
		<td align="left">按位取反运算符</td>
		<td align="left">(~a ) 输出结果 -61 ，二进制解释： 1100 0011， 在一个有符号二进制数的补码形式</td>
	</tr>
	<tr align=center>
		<td><<</td>
		<td align="left">左移动运算符</td>
		<td align="left">a << 2 输出结果 240 ，二进制解释： 0011 0000</td>
	</tr>
	<tr align=center>
		<td>>></td>
		<td align="left">右移动运算符</td>
		<td align="left">a >> 2 输出结果 15 ，二进制解释： 0000 1111</td>
	</tr>
	<tr align=center>
		<td>>>></td>
		<td align="left">无符号右移</td>
		<td align="left">a >>>2 输出结果 15, 二进制解释: 0000 1111</td>
	</tr>
</table>
<h2 id="运算符的本质">运算符的本质</h2>
<p><strong>在Scala中其实是没有运算符的，所有运算符都是方法</strong></p>
<ul>
<li><strong>当调用对象的方法时，<font color=red>点.</font>可以省略</strong></li>
<li><strong>如果函数参数只有一个，或者没有参数，()可以省略</strong></li>
</ul>
<h1 id="四、if、for及while循环">四、if、for及while循环</h1>
<h2 id="if分支控制">if分支控制</h2>
<h3 id="1-单分支">1.单分支</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>	(条件表达式)	&#123;</span><br><span class="line">	执行代码块</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>说明：当条件表达式为true时，就会执行{ }的代码</strong></p>
<ul>
<li><strong>案例</strong>
<ul>
<li>输入人的年龄，如果年龄小于 18 岁，则输出“未成年”</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;input age:&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> age = <span class="type">StdIn</span>.readShort()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (age &lt; <span class="number">18</span>)&#123;</span><br><span class="line">      println(<span class="string">&quot;未成年&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">input age:</span><br><span class="line">16</span><br><span class="line">未成年</span><br></pre></td></tr></table></figure>
<h3 id="2-双分支">2.双分支</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件表达式) &#123;</span><br><span class="line">	执行代码块 <span class="number">1</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	执行代码块 <span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例</strong>
<ul>
<li>输入年龄，如果年龄小于 18 岁，则输出“未成年”，否则，输出“成年”</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;input age:&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> age = <span class="type">StdIn</span>.readShort()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (age &lt; <span class="number">18</span>)&#123;</span><br><span class="line">      println(<span class="string">&quot;未成年&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      println(<span class="string">&quot;成年&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">input age:</span><br><span class="line">20</span><br><span class="line">成年</span><br></pre></td></tr></table></figure>
<h3 id="3-多分支">3.多分支</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件表达式 <span class="number">1</span>) &#123;</span><br><span class="line">	执行代码块 <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (条件表达式 <span class="number">2</span>) &#123;</span><br><span class="line">	执行代码块 <span class="number">2</span></span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">	执行代码块 n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例1</strong>
<ul>
<li>输入年龄，如果年龄小于 18 岁，则输出“未成年”，如果年龄大于等于 18 且小于等于 30，则输出“中年”，否则，输出“老年”</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;input age：&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> age = <span class="type">StdIn</span>.readInt()</span><br><span class="line">    <span class="keyword">if</span> (age &lt; <span class="number">18</span>)&#123;</span><br><span class="line">      println(<span class="string">&quot;未成年&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(age&gt;=<span class="number">18</span> &amp;&amp; age&lt;<span class="number">30</span>)&#123;</span><br><span class="line">      println(<span class="string">&quot;中年&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      println(<span class="string">&quot;老年&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">input age：</span><br><span class="line">45</span><br><span class="line">老年</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例2</strong>
<ul>
<li>Scala 中 if-else 表达式其实是有返回值的，具体返回值取决于满足条件的代码体的最后一行内容</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;input age：&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> age = <span class="type">StdIn</span>.readInt()</span><br><span class="line">    <span class="keyword">val</span> res :<span class="type">String</span> = <span class="keyword">if</span> (age &lt; <span class="number">18</span>)&#123;</span><br><span class="line">      <span class="string">&quot;未成年&quot;</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(age&gt;=<span class="number">18</span> &amp;&amp; age&lt;<span class="number">30</span>)&#123;</span><br><span class="line">      <span class="string">&quot;中年&quot;</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="string">&quot;老年&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(res)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">input age：</span><br><span class="line">26</span><br><span class="line">中年</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例3</strong>
<ul>
<li>Scala 中返回值类型不一致，取它们共同的祖先类型</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;input age：&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> age = <span class="type">StdIn</span>.readInt()</span><br><span class="line">    <span class="keyword">val</span> res:<span class="type">Any</span> = <span class="keyword">if</span> (age &lt; <span class="number">18</span>)&#123;</span><br><span class="line">      <span class="string">&quot;未成年&quot;</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(age&gt;=<span class="number">18</span> &amp;&amp; age&lt;<span class="number">30</span>)&#123;</span><br><span class="line">      <span class="string">&quot;中年&quot;</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="number">120</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(res)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">input age：</span><br><span class="line">66</span><br><span class="line">120</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例4</strong>
<ul>
<li>可以用 if-else 实现Java中的三元运算符</li>
<li><font color=red>如果大括号{}内的逻辑代码只有一行，大括号可以省略，省略后，if 只对最近的一行逻辑代码起作用</font></li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    Java</span></span><br><span class="line"><span class="comment">//    int result = flag?1:0</span></span><br><span class="line">    println(<span class="string">&quot;input age：&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> age = <span class="type">StdIn</span>.readInt()</span><br><span class="line">    <span class="keyword">val</span> res:<span class="type">Any</span> = <span class="keyword">if</span> (age &lt; <span class="number">18</span>) <span class="string">&quot;童年&quot;</span> <span class="keyword">else</span> <span class="string">&quot;成年&quot;</span></span><br><span class="line">    println(res)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">input age：</span><br><span class="line">23</span><br><span class="line">成年</span><br></pre></td></tr></table></figure>
<h3 id="4-嵌套分支">4.嵌套分支</h3>
<p><strong>在一个分支结构中又完整的嵌套了另一个完整的分支结构，里面的分支的结构称为内层，分支外面的分支结构称为外层分支（嵌套分支不要超过3层）</strong></p>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>()&#123;</span><br><span class="line">	<span class="keyword">if</span>()&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例</strong>
<ul>
<li>如果输入的年龄小于 18，返回“未成年”，如果输入的年龄大于等于 18，需要再判断：如果年龄大于等于 18 且小于 30，返回“中年”，如果其他，返回“老年”</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;input age：&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> age = <span class="type">StdIn</span>.readInt()</span><br><span class="line">    <span class="keyword">val</span> res :<span class="type">String</span> = <span class="keyword">if</span> (age &lt; <span class="number">18</span>)&#123;</span><br><span class="line">      <span class="string">&quot;未成年&quot;</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(age&gt;=<span class="number">18</span> &amp;&amp; age&lt;<span class="number">30</span>)&#123;</span><br><span class="line">        <span class="string">&quot;中年&quot;</span></span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="string">&quot;老年&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    println(res)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">input age：</span><br><span class="line">99</span><br><span class="line">老年</span><br></pre></td></tr></table></figure>
<h2 id="for循环控制">for循环控制</h2>
<h3 id="1-范围数据循环（To）">1.范围数据循环（To）</h3>
<ul>
<li><strong>基本语法</strong>
<ul>
<li>i 表示循环的变量，&lt;-规定to</li>
<li>i 将会从1-3循环，前后闭合</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span>)&#123;</span><br><span class="line">	print(i + <span class="string">&quot; &quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">println()</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 2 3 </span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例</strong>
<ul>
<li>输出 5 句 “编程怎么这么难”</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">5</span>)&#123;</span><br><span class="line">      println(<span class="string">&quot;编程怎么这么难&quot;</span>+i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">编程怎么这么难1</span><br><span class="line">编程怎么这么难2</span><br><span class="line">编程怎么这么难3</span><br><span class="line">编程怎么这么难4</span><br><span class="line">编程怎么这么难5</span><br></pre></td></tr></table></figure>
<h3 id="2-范围数据循环（Until）">2.范围数据循环（Until）</h3>
<ul>
<li><strong>基本语法</strong>
<ul>
<li>和前面的区别在于 i 是从 1 到 3-1</li>
<li>即前闭合后开的范围</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span>)&#123;</span><br><span class="line">	print(i + <span class="string">&quot; &quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 2 </span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例</strong>
<ul>
<li>输出 5 句 “编程怎么这么难”</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">for</span>(i &lt;- <span class="number">1</span> until <span class="number">6</span>)&#123;</span><br><span class="line">      println(<span class="string">&quot;编程怎么这么难&quot;</span> + i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">编程怎么这么难1</span><br><span class="line">编程怎么这么难2</span><br><span class="line">编程怎么这么难3</span><br><span class="line">编程怎么这么难4</span><br><span class="line">编程怎么这么难5</span><br></pre></td></tr></table></figure>
<h3 id="3-循环守卫">3.循环守卫</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span> <span class="keyword">if</span> i != <span class="number">2</span>) &#123;</span><br><span class="line"> print(i + <span class="string">&quot; &quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 3 </span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>循环守卫，即循环保护式（也称条件判断式守卫），保护式为 true 则进入循环体内部，为 false 则跳过，类似于 continue</li>
</ul>
</li>
<li><strong>案例</strong>
<ul>
<li>输出 1 到 5 中，不等于 3 的值</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">5</span> <span class="keyword">if</span> i != <span class="number">3</span>) &#123;</span><br><span class="line">      println(i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>
<h3 id="4-循环步长">4.循环步长</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">10</span> by <span class="number">2</span>) &#123;</span><br><span class="line">	println(<span class="string">&quot;i=&quot;</span> + i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">i=1</span><br><span class="line">i=3</span><br><span class="line">i=5</span><br><span class="line">i=7</span><br><span class="line">i=9</span><br></pre></td></tr></table></figure>
<p><strong>说明：by表示步长</strong></p>
<ul>
<li><strong>案例</strong>
<ul>
<li>输出 1 到 10 以内的所有奇数</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">10</span> by <span class="number">2</span>) &#123;</span><br><span class="line">      println(<span class="string">&quot;i=&quot;</span> + i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">i=1</span><br><span class="line">i=3</span><br><span class="line">i=5</span><br><span class="line">i=7</span><br><span class="line">i=9</span><br></pre></td></tr></table></figure>
<h3 id="5-嵌套循环">5.嵌套循环</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span>; j &lt;- <span class="number">1</span> to <span class="number">3</span>) &#123;</span><br><span class="line">      println(<span class="string">&quot; i =&quot;</span> + i + <span class="string">&quot; j = &quot;</span> + j)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i =1 j = 1</span><br><span class="line">i =1 j = 2</span><br><span class="line">i =1 j = 3</span><br><span class="line">i =2 j = 1</span><br><span class="line">i =2 j = 2</span><br><span class="line">i =2 j = 3</span><br><span class="line">i =3 j = 1</span><br><span class="line">i =3 j = 2</span><br><span class="line">i =3 j = 3</span><br></pre></td></tr></table></figure>
<p><strong>说明：没有关键字，所以范围后一定要加 ; 来隔断逻辑</strong></p>
<ul>
<li><strong>与上面的代码等价</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">3</span>) &#123;</span><br><span class="line">	<span class="keyword">for</span> (j &lt;- <span class="number">1</span> to <span class="number">3</span>) &#123;</span><br><span class="line">		println(<span class="string">&quot;i =&quot;</span> + i + <span class="string">&quot; j=&quot;</span> + j)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-引入变量">6.引入变量</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span>; j = <span class="number">4</span> - i) &#123;</span><br><span class="line">	println(<span class="string">&quot;i=&quot;</span> + i + <span class="string">&quot; j=&quot;</span> + j)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">i=1 j=3</span><br><span class="line">i=2 j=2</span><br><span class="line">i=3 j=1</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>for 推导式一行中有多个表达式时，所以要加 ; 来隔断逻辑</li>
<li>for 推导式有一个不成文的约定：当 for 推导式仅包含单一表达式时使用圆括号，当包含多个表达式时，一般每行一个表达式，并用花括号代替圆括号</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">	i &lt;- <span class="number">1</span> to <span class="number">3</span></span><br><span class="line">	j = <span class="number">4</span> - i</span><br><span class="line">&#125; &#123;</span><br><span class="line">	println(<span class="string">&quot;i=&quot;</span> + i + <span class="string">&quot; j=&quot;</span> + j)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>等价于上面的代码</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">3</span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> j = <span class="number">4</span> - i</span><br><span class="line">	println(<span class="string">&quot;i=&quot;</span> + i + <span class="string">&quot; j=&quot;</span> + j)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-循环返回值">7.循环返回值</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> res = <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">10</span>) <span class="keyword">yield</span> i</span><br><span class="line">println(res)</span><br></pre></td></tr></table></figure>
<p><strong>说明：将遍历过程中处理的结果返回到一个新 Vector 集合中，使用 yield 关键字（开发中很少使用）</strong></p>
<ul>
<li><strong>案例</strong>
<ul>
<li>将原数据中所有值乘以 2，并把数据返回到一个新的集合中</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">var</span> res = <span class="keyword">for</span>(i &lt;<span class="number">-1</span> to <span class="number">10</span>) <span class="keyword">yield</span> &#123;</span><br><span class="line">      i * <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(res)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vector(2, 4, 6, 8, 10, 12, 14, 16, 18, 20)</span><br></pre></td></tr></table></figure>
<h3 id="8-倒叙打印">8.倒叙打印</h3>
<ul>
<li><strong>如果想倒序打印一组数据，可以用 reverse</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	<span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">10</span> reverse)&#123;</span><br><span class="line">      println(i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">10</span><br><span class="line">9</span><br><span class="line">8</span><br><span class="line">7</span><br><span class="line">6</span><br><span class="line">5</span><br><span class="line">4</span><br><span class="line">3</span><br><span class="line">2</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<h2 id="while和do…while循环控制">while和do…while循环控制</h2>
<h3 id="1-while循环控制">1.while循环控制</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (循环条件) &#123;</span><br><span class="line">	循环体(语句) 循环变量迭代</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>循环条件是返回一个布尔值的表达式</li>
<li>while 循环是先判断再执行语句</li>
<li>与 for 语句不同，while 语句没有返回值，即整个 while 语句的结果是<font color=red>Unit 类型()</font></li>
<li>因为 while 中没有返回值，所以当要用该语句来计算并返回结果时，就不可避免的使用变量，而变量需要声明在while 循环的外部，那么就等同于循环的内部对外部的变量造成了影响，所以不推荐使用，而是推荐使用 for 循环</li>
</ul>
</li>
<li><strong>案例</strong>
<ul>
<li>输出 10 句 “努力搬砖，从我做起”</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123; <span class="keyword">var</span> i = <span class="number">0</span></span><br><span class="line">	<span class="keyword">while</span> (i &lt; <span class="number">10</span>) &#123;</span><br><span class="line">		println(<span class="string">&quot;努力搬砖，从我做起&quot;</span> + i)</span><br><span class="line">		i += <span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">努力搬砖，从我做起0</span><br><span class="line">努力搬砖，从我做起1</span><br><span class="line">努力搬砖，从我做起2</span><br><span class="line">努力搬砖，从我做起3</span><br><span class="line">努力搬砖，从我做起4</span><br><span class="line">努力搬砖，从我做起5</span><br><span class="line">努力搬砖，从我做起6</span><br><span class="line">努力搬砖，从我做起7</span><br><span class="line">努力搬砖，从我做起8</span><br><span class="line">努力搬砖，从我做起9</span><br></pre></td></tr></table></figure>
<h3 id="2-do…while循环控制"><a target="_blank" rel="noopener" href="http://2.do">2.do</a>…while循环控制</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">	循环体(语句)</span><br><span class="line">	循环变量迭代</span><br><span class="line">&#125; <span class="keyword">while</span>(循环条件)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>循环条件是返回一个布尔值的表达式</li>
<li>do…while 循环是先执行，再判断</li>
</ul>
</li>
<li><strong>案例</strong>
<ul>
<li>输出 10 句 “活到老，搬到老”</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123; <span class="keyword">var</span> i = <span class="number">0</span></span><br><span class="line">	<span class="keyword">do</span> &#123;</span><br><span class="line">		println(<span class="string">&quot;活到老，搬到老&quot;</span> + i)</span><br><span class="line">		i += <span class="number">1</span></span><br><span class="line">	&#125; <span class="keyword">while</span> (i &lt; <span class="number">10</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">活到老，搬到老0</span><br><span class="line">活到老，搬到老1</span><br><span class="line">活到老，搬到老2</span><br><span class="line">活到老，搬到老3</span><br><span class="line">活到老，搬到老4</span><br><span class="line">活到老，搬到老5</span><br><span class="line">活到老，搬到老6</span><br><span class="line">活到老，搬到老7</span><br><span class="line">活到老，搬到老8</span><br><span class="line">活到老，搬到老9</span><br></pre></td></tr></table></figure>
<h3 id="3-循环中断">3.循环中断</h3>
<ul>
<li><strong>基本说明</strong>
<ul>
<li>Scala 内置控制结构特地去掉了 break 和 continue，是为了更好的适应函数式编程，推荐使用函数式的风格解决break 和continue 的功能，而不是一个关键字。Scala 中使用<font color=red>breakable 控制结构</font>来实现 break 和 continue 功能</li>
</ul>
</li>
<li><strong>案例1</strong>
<ul>
<li>采用异常的方式退出循环</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> (elem &lt;- <span class="number">1</span> to <span class="number">10</span>) &#123; println(elem)</span><br><span class="line">			<span class="keyword">if</span> (elem == <span class="number">5</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">RuntimeException</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">catch</span> &#123;</span><br><span class="line">		<span class="keyword">case</span> e =&gt;</span><br><span class="line">	&#125;</span><br><span class="line">	println(<span class="string">&quot;正常结束循环&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">正常结束循环</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例2</strong>
<ul>
<li>采用 Scala 自带的函数，退出循环</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.util.control.<span class="type">Breaks</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="type">Breaks</span>.breakable(</span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- <span class="number">1</span> to <span class="number">10</span>) &#123;</span><br><span class="line">      println(elem)</span><br><span class="line">      <span class="keyword">if</span> (elem == <span class="number">5</span>) <span class="type">Breaks</span>.<span class="keyword">break</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">  println(<span class="string">&quot;正常结束循环&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">正常结束循环</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例3</strong>
<ul>
<li>对break 进行省略</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.util.control.<span class="type">Breaks</span>._</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  breakable &#123;</span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- <span class="number">1</span> to <span class="number">10</span>) &#123;</span><br><span class="line">      println(elem)</span><br><span class="line">      <span class="keyword">if</span> (elem == <span class="number">5</span>) <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  println(<span class="string">&quot;正常结束循环&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">正常结束循环</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例4</strong>
<ul>
<li>循环遍历 10 以内的所有数据，奇数打印，偶数跳过（continue）</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123; </span><br><span class="line">  <span class="keyword">for</span> (elem &lt;- <span class="number">1</span> to <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (elem % <span class="number">2</span> == <span class="number">1</span>) &#123; </span><br><span class="line">      println(elem)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      println(<span class="string">&quot;continue&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">continue</span><br><span class="line">3</span><br><span class="line">continue</span><br><span class="line">5</span><br><span class="line">continue</span><br><span class="line">7</span><br><span class="line">continue</span><br><span class="line">9</span><br><span class="line">continue</span><br></pre></td></tr></table></figure>
<h3 id="4-多重循环">4.多重循环</h3>
<ul>
<li><strong>基本说明</strong>
<ul>
<li>将 一 个 循 环 放 在 另 一 个 循 环 体 内 ， 就 形 成 了 嵌 套 循 环 。 其 中 ，for，while，do…while均可以作为外层循环和内层循环</li>
<li>设外层循环次数为m 次，内层为 n 次，则内层循环体实际上需要执行<font color=red> m*n </font>次</li>
</ul>
</li>
<li><strong>案例</strong>
<ul>
<li>打印九九乘法表</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">9</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (j &lt;- <span class="number">1</span> to i) &#123;</span><br><span class="line">      print(j + <span class="string">&quot;*&quot;</span> + i + <span class="string">&quot;=&quot;</span> + (i * j) + <span class="string">&quot;\t&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    println()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1*1=1	</span><br><span class="line">1*2=2	2*2=4	</span><br><span class="line">1*3=3	2*3=6	3*3=9	</span><br><span class="line">1*4=4	2*4=8	3*4=12	4*4=16	</span><br><span class="line">1*5=5	2*5=10	3*5=15	4*5=20	5*5=25	</span><br><span class="line">1*6=6	2*6=12	3*6=18	4*6=24	5*6=30	6*6=36	</span><br><span class="line">1*7=7	2*7=14	3*7=21	4*7=28	5*7=35	6*7=42	7*7=49	</span><br><span class="line">1*8=8	2*8=16	3*8=24	4*8=32	5*8=40	6*8=48	7*8=56	8*8=64	</span><br><span class="line">1*9=9	2*9=18	3*9=27	4*9=36	5*9=45	6*9=54	7*9=63	8*9=72	9*9=81</span><br></pre></td></tr></table></figure>
<h1 id="五、函数式编程">五、函数式编程</h1>
<ul>
<li><strong>面向对象编程</strong>
<ul>
<li>解决问题，分解对象，行为，属性，然后通过对象的关系以及行为的调用来解决问题</li>
<li>对象：用户</li>
<li>行为：登录、连接JDBC、读取数据库</li>
<li>属性：用户名、密码</li>
<li>Scala 语言是一个完全面向对象编程语言：<font color=red>万物皆对象</font></li>
<li><font color=red>对象的本质：对数据和行为的一个封装</font></li>
</ul>
</li>
<li><strong>函数式编程</strong>
<ul>
<li>解决问题时，将问题分解成一个一个的步骤，将每个步骤进行封装（函数），通过调用这些封装好的步骤，解决问题
<ul>
<li>例：请求-&gt;用户名、密码-&gt;连接 JDBC-&gt;读取数据库</li>
</ul>
</li>
<li><font color=red>Scala 语言是一个完全函数式编程语言：万物皆函数</font></li>
<li><font color=red>函数的本质：函数可以当做一个值进行传递</font></li>
</ul>
</li>
<li><strong>Scala中函数式编程和面向对象编程完美的融合在一起了</strong></li>
</ul>
<h2 id="函数基础">函数基础</h2>
<h3 id="1-函数基本语法">1.函数基本语法</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span> </span>( x: <span class="type">Int</span> , y: <span class="type">Int</span>) : <span class="type">Int</span> = &#123;</span><br><span class="line">	x + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>def：定义函数的关键字</li>
<li>sum：函数名</li>
<li>x，y：参数名</li>
<li>Int：参数类型</li>
<li>Int：函数返回值类型</li>
<li>x + y：函数体</li>
</ul>
</li>
<li><strong>案例</strong>
<ul>
<li>定义一个函数，将传入的名称打印出来</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// （1）函数定义</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f</span></span>(arg: <span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(arg)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// （2）函数调用</span></span><br><span class="line">  <span class="comment">// 函数名（参数）</span></span><br><span class="line">  f(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello world</span><br></pre></td></tr></table></figure>
<h3 id="2-函数与方法的区别">2.函数与方法的区别</h3>
<ul>
<li><strong>核心概念</strong>
<ul>
<li>为完成某一功能的程序语句的集合，称为函数</li>
<li>类中的函数称之方法</li>
</ul>
</li>
<li><strong>区别</strong>
<ul>
<li>Scala 可以在任何的语法结构中声明任何的语法</li>
<li>函数没有重载和重写的概念，而方法可以进行重载和重写</li>
<li>Scala 中函数可以嵌套定义</li>
</ul>
</li>
</ul>
<h3 id="3-函数的定义">3.函数的定义</h3>
<ul>
<li><strong>函数的定义</strong>
<ul>
<li>函数 1：无参，无返回值</li>
<li>函数 2：无参，有返回值</li>
<li>函数 3：有参，无返回值</li>
<li>函数 4：有参，有返回值</li>
<li>函数 5：多参，无返回值</li>
<li>函数 6：多参，有返回值</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 函数 1：无参，无返回值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test1</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">      println(<span class="string">&quot;无参，无返回值&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    test1()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 函数 2：无参，有返回值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test2</span></span>():<span class="type">String</span>=&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;无参，有返回值&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(test2())</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 函数 3：有参，无返回值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test3</span></span>(s:<span class="type">String</span>):<span class="type">Unit</span>=&#123;</span><br><span class="line">      println(s)</span><br><span class="line">    &#125;</span><br><span class="line">    test3(<span class="string">&quot;jinlian&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 函数 4：有参，有返回值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test4</span></span>(s:<span class="type">String</span>):<span class="type">String</span>=&#123;</span><br><span class="line">      <span class="keyword">return</span> s+<span class="string">&quot;有参，有返回值&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(test4(<span class="string">&quot;hello &quot;</span>))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 函数 5：多参，无返回值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test5</span></span>(name:<span class="type">String</span>, age:<span class="type">Int</span>):<span class="type">Unit</span>=&#123;</span><br><span class="line">      println(<span class="string">s&quot;<span class="subst">$name</span>, <span class="subst">$age</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    test5(<span class="string">&quot;dalang&quot;</span>,<span class="number">40</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">无参，无返回值</span><br><span class="line">无参，有返回值</span><br><span class="line">jinlian</span><br><span class="line">hello 有参，有返回值</span><br><span class="line">dalang, 40</span><br></pre></td></tr></table></figure>
<h3 id="4-函数的参数">4.函数的参数</h3>
<ul>
<li><strong>案例</strong>
<ul>
<li>可变参数</li>
<li>如果参数列表中存在多个参数，那么可变参数一般放置在最后</li>
<li>参数默认值，一般将有默认值的参数放置在参数列表的后面</li>
<li>带名参数</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// （1）可变参数</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>( s : <span class="type">String</span>* ): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(s)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 有输入参数：输出 Array</span></span><br><span class="line">  test(<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;Scala&quot;</span>)</span><br><span class="line">  <span class="comment">// 无输入参数：输出 List()</span></span><br><span class="line">  test()</span><br><span class="line"></span><br><span class="line">  <span class="comment">// (2)如果参数列表中存在多个参数，那么可变参数一般放置在最后</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test2</span></span>( name : <span class="type">String</span>, s: <span class="type">String</span>* ): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(name + <span class="string">&quot;,&quot;</span> + s)</span><br><span class="line">  &#125;</span><br><span class="line">  test2(<span class="string">&quot;jinlian&quot;</span>, <span class="string">&quot;dalang&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// (3)参数默认值</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test3</span></span>( name : <span class="type">String</span>, age : <span class="type">Int</span> = <span class="number">30</span> ): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">s&quot;<span class="subst">$name</span>, <span class="subst">$age</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 如果参数传递了值，那么会覆盖默认值</span></span><br><span class="line">  test3(<span class="string">&quot;jinlian&quot;</span>, <span class="number">20</span>)</span><br><span class="line">  <span class="comment">// 如果参数有默认值，在调用的时候，可以省略这个参数</span></span><br><span class="line">  test3(<span class="string">&quot;dalang&quot;</span>)</span><br><span class="line">  <span class="comment">// 一般情况下，将有默认值的参数放置在参数列表的后面</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test4</span></span>( sex : <span class="type">String</span> = <span class="string">&quot;男&quot;</span>, name : <span class="type">String</span> ): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">s&quot;<span class="subst">$name</span>, <span class="subst">$sex</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Scala 函数中参数传递是，从左到右</span></span><br><span class="line">  <span class="comment">//test4(&quot;wusong&quot;)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//（4）带名参数</span></span><br><span class="line">  test4(name=<span class="string">&quot;ximenqing&quot;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">WrappedArray(Hello, Scala)</span><br><span class="line">List()</span><br><span class="line">jinlian,WrappedArray(dalang)</span><br><span class="line">jinlian, 20</span><br><span class="line">dalang, 30</span><br><span class="line">ximenqing, 男</span><br></pre></td></tr></table></figure>
<h3 id="5-至简原则">5.至简原则</h3>
<ul>
<li><strong>函数至简原则：能省就省</strong>
<ul>
<li>return 可以省略，Scala 会使用函数体的最后一行代码作为返回值</li>
<li>如果函数体只有一行代码，可以省略花括号</li>
<li>返回值类型如果能够推断出来，那么可以省略（:和返回值类型一起省略）</li>
<li>如果有 return，则不能省略返回值类型，必须指定</li>
<li>如果函数明确声明 unit，那么即使函数体中使用 return 关键字也不起作用</li>
<li>Scala 如果期望是无返回值类型，可以省略等号</li>
<li>如果函数无参，但是声明了参数列表，那么调用时，小括号，可加可不加</li>
<li>如果函数没有参数列表，那么小括号可以省略，调用时小括号必须省略</li>
<li>如果不关心名称，只关心逻辑处理，那么函数名（def）可以省略</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 函数标准写法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f</span></span>( s : <span class="type">String</span> ): <span class="type">String</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> s + <span class="string">&quot; jinlian&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  println(f(<span class="string">&quot;Hello&quot;</span>))</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 至简原则:能省则省</span></span><br><span class="line">  <span class="comment">//（1） return 可以省略,Scala 会使用函数体的最后一行代码作为返回值</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>( s : <span class="type">String</span> ): <span class="type">String</span> = &#123;</span><br><span class="line">    s + <span class="string">&quot; jinlian&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  println(f1(<span class="string">&quot;Hello&quot;</span>))</span><br><span class="line"></span><br><span class="line">  <span class="comment">//（2）如果函数体只有一行代码，可以省略花括号</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(s:<span class="type">String</span>):<span class="type">String</span> = s + <span class="string">&quot; jinlian&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//（3）返回值类型如果能够推断出来，那么可以省略（:和返回值类型一起省略）</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f3</span></span>( s : <span class="type">String</span> ) = s + <span class="string">&quot; jinlian&quot;</span></span><br><span class="line">  println(f3(<span class="string">&quot;Hello3&quot;</span>))</span><br><span class="line"></span><br><span class="line">  <span class="comment">//（4）如果有 return，则不能省略返回值类型，必须指定。</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f4</span></span>() :<span class="type">String</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ximenqing4&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  println(f4())</span><br><span class="line"></span><br><span class="line">  <span class="comment">//（5）如果函数明确声明 unit，那么即使函数体中使用 return 关键字也不起作用</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f5</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;dalang5&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  println(f5())</span><br><span class="line"></span><br><span class="line">  <span class="comment">//（6）Scala 如果期望是无返回值类型,可以省略等号</span></span><br><span class="line">  <span class="comment">// 将无返回值的函数称之为过程</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f6</span></span>() &#123;</span><br><span class="line">    <span class="string">&quot;dalang6&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  println(f6())</span><br><span class="line"></span><br><span class="line">  <span class="comment">//（7）如果函数无参，但是声明了参数列表，那么调用时，小括号，可加可不加</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f7</span></span>() = <span class="string">&quot;dalang7&quot;</span></span><br><span class="line">  println(f7())</span><br><span class="line">  println(f7)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//（8）如果函数没有参数列表，那么小括号可以省略,调用时小括号必须省略</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f8</span> </span>= <span class="string">&quot;dalang&quot;</span></span><br><span class="line">  <span class="comment">//println(f8())</span></span><br><span class="line">  println(f8)</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//（9）如果不关心名称，只关心逻辑处理，那么函数名（def）可以省略</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f9</span> </span>= (x:<span class="type">String</span>)=&gt;&#123;println(<span class="string">&quot;wusong&quot;</span>)&#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f10</span></span>(f:<span class="type">String</span>=&gt;<span class="type">Unit</span>) = &#123;</span><br><span class="line">    f(<span class="string">&quot;&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  f10(f9)</span><br><span class="line">  println(f10((x:<span class="type">String</span>)=&gt;&#123;println(<span class="string">&quot;wusong&quot;</span>)&#125;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Hello jinlian</span><br><span class="line">Hello jinlian</span><br><span class="line">Hello3 jinlian</span><br><span class="line">ximenqing4</span><br><span class="line">()</span><br><span class="line">()</span><br><span class="line">dalang7</span><br><span class="line">dalang7</span><br><span class="line">dalang</span><br><span class="line">wusong</span><br><span class="line">wusong</span><br><span class="line">()</span><br></pre></td></tr></table></figure>
<h2 id="函数进阶">函数进阶</h2>
<h3 id="1-高阶函数">1.高阶函数</h3>
<ul>
<li><strong>函数可以作为值进行传递</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    </span><br><span class="line">  <span class="comment">//（1）调用 foo 函数，把返回值给变量 f</span></span><br><span class="line">  <span class="comment">//val f = foo()</span></span><br><span class="line">  <span class="keyword">val</span> f = foo</span><br><span class="line">  println(f)</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//（2）在被调用函数 foo 后面加上 _，相当于把函数 foo 当成一个整体，传递给变量 f1</span></span><br><span class="line">  <span class="keyword">val</span> f1 = foo _</span><br><span class="line">  foo()</span><br><span class="line">  f1()</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//（3）如果明确变量类型，那么不使用下划线也可以将函数作为整体传递给变量</span></span><br><span class="line">  <span class="keyword">var</span> f2:()=&gt;<span class="type">Int</span> = foo</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span></span>():<span class="type">Int</span> = &#123;</span><br><span class="line">  println(<span class="string">&quot;foo...&quot;</span>)</span><br><span class="line">  <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">foo...</span><br><span class="line">1</span><br><span class="line">foo...</span><br><span class="line">foo...</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>函数可以作为参数进行传递</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// （1）定义一个函数，函数参数还是一个函数签名；f 表示函数名称;(Int,Int)表示输入两个 Int 参数；Int 表示函数返回值</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(f: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    f(<span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// （2）定义一个函数，参数和返回值类型和 f1 的输入参数一致</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(a: <span class="type">Int</span>, b: <span class="type">Int</span>): <span class="type">Int</span> = a + b</span><br><span class="line"></span><br><span class="line">  <span class="comment">// （3）将 add 函数作为参数传递给 f1 函数，如果能够推断出来不是调用，_可以省略</span></span><br><span class="line">  println(f1(add))</span><br><span class="line">  println(f1(add _))</span><br><span class="line">  <span class="comment">//可以传递匿名函数</span></span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line">6</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>函数可以作为函数返回值返回</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>() = &#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>() = &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    f2 _</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> f = f1()</span><br><span class="line">  <span class="comment">// 因为 f1 函数的返回值依然为函数，所以可以变量 f 可以作为函数继续调用</span></span><br><span class="line">  f()</span><br><span class="line">  <span class="comment">// 上面的代码可以简化为</span></span><br><span class="line">  f1()()</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-匿名函数">2.匿名函数</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>没有名字的函数就是匿名函数</li>
<li>(x:Int)=&gt;{函数体}</li>
<li>x：表示输入参数类型；Int：表示输入参数类型；函数体：表示具体代码逻辑</li>
</ul>
</li>
<li><strong>案例1</strong>
<ul>
<li>传递的函数有一个参数
<ul>
<li><font color=red>传递匿名函数至简原则</font></li>
<li><font color=red>参数的类型可以省略，会根据形参进行自动的推导</font></li>
<li><font color=red>类型省略之后，发现只有一个参数，则圆括号可以省略；其他情况：没有参数和参数超过 1 的永远不能省略圆括号</font></li>
<li><font color=red>匿名函数如果只有一行，则大括号也可以省略</font></li>
<li><font color=red>如果参数只出现一次，则参数省略且后面参数可以用_代替</font></li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    </span><br><span class="line">  <span class="comment">// （1）定义一个函数：参数包含数据和逻辑函数</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">operation</span></span>(arr: <span class="type">Array</span>[<span class="type">Int</span>], op: <span class="type">Int</span> =&gt; <span class="type">Int</span>) = &#123;</span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- arr) <span class="keyword">yield</span> op(elem)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// （2）定义逻辑函数</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">op</span></span>(ele: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    ele + <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// （3）标准函数调用</span></span><br><span class="line">  <span class="keyword">val</span> arr = operation(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), op)</span><br><span class="line">  println(arr.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// （4）采用匿名函数</span></span><br><span class="line">  <span class="keyword">val</span> arr1 = operation(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), (ele: <span class="type">Int</span>) =&gt; &#123;</span><br><span class="line">    ele + <span class="number">1</span></span><br><span class="line">  &#125;)</span><br><span class="line">  println(arr1.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// （4.1）参数的类型可以省略，会根据形参进行自动的推导;</span></span><br><span class="line">  <span class="keyword">val</span> arr2 = operation(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), (ele) =&gt; &#123;</span><br><span class="line">    ele + <span class="number">1</span></span><br><span class="line">  &#125;)</span><br><span class="line">  println(arr2.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// （4.2）类型省略之后，发现只有一个参数，则圆括号可以省略；其他情况：没有参数和参数超过 1 的永远不能省略圆括号。</span></span><br><span class="line">  <span class="keyword">val</span> arr3 = operation(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), ele =&gt; &#123;</span><br><span class="line">    ele + <span class="number">1</span></span><br><span class="line">  &#125;)</span><br><span class="line">  println(arr3.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// (4.3) 匿名函数如果只有一行，则大括号也可以省略</span></span><br><span class="line">  <span class="keyword">val</span> arr4 = operation(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), ele =&gt; ele + <span class="number">1</span>)</span><br><span class="line">  println(arr4.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//（4.4）如果参数只出现一次，则参数省略且后面参数可以用_代替</span></span><br><span class="line">  <span class="keyword">val</span> arr5 = operation(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), _ + <span class="number">1</span>)</span><br><span class="line">  println(arr5.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2,3,4,5</span><br><span class="line">2,3,4,5</span><br><span class="line">2,3,4,5</span><br><span class="line">2,3,4,5</span><br><span class="line">2,3,4,5</span><br><span class="line">2,3,4,5</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例2</strong>
<ul>
<li>传递的函数有两个参数</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">calculator</span></span>(a: <span class="type">Int</span>, b: <span class="type">Int</span>, op: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    op(a, b)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// （1）标准版</span></span><br><span class="line">  println(calculator(<span class="number">2</span>, <span class="number">3</span>, (x: <span class="type">Int</span>, y: <span class="type">Int</span>) =&gt; &#123;x + y&#125;))</span><br><span class="line"></span><br><span class="line">  <span class="comment">// （2）如果只有一行，则大括号也可以省略</span></span><br><span class="line">  println(calculator(<span class="number">2</span>, <span class="number">3</span>, (x: <span class="type">Int</span>, y: <span class="type">Int</span>) =&gt; x + y))</span><br><span class="line"></span><br><span class="line">  <span class="comment">// （3）参数的类型可以省略，会根据形参进行自动的推导;</span></span><br><span class="line">  println(calculator(<span class="number">2</span>, <span class="number">3</span>, (x , y) =&gt; x + y))</span><br><span class="line"></span><br><span class="line">  <span class="comment">// （4）如果参数只出现一次，则参数省略且后面参数可以用_代替</span></span><br><span class="line">  println(calculator(<span class="number">2</span>, <span class="number">3</span>, _ + _))</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">5</span><br></pre></td></tr></table></figure>
<h3 id="3-高阶函数案例">3.高阶函数案例</h3>
<ul>
<li><strong>模拟 Map 映射、Filter 过滤、Reduce 聚合</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// （1）map 映射</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">map</span></span>(arr: <span class="type">Array</span>[<span class="type">Int</span>], op: <span class="type">Int</span> =&gt; <span class="type">Int</span>) = &#123;</span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- arr) <span class="keyword">yield</span> op(elem)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> arr = map(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), (x: <span class="type">Int</span>) =&gt; &#123;</span><br><span class="line">    x * x</span><br><span class="line">  &#125;)</span><br><span class="line">  println(arr.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">  <span class="comment">// （2）filter 过滤。有参数，且参数再后面只使用一次，则参数省略且后面参数用_表示</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">filter</span></span>(arr:<span class="type">Array</span>[<span class="type">Int</span>],op:<span class="type">Int</span> =&gt;<span class="type">Boolean</span>) =&#123;</span><br><span class="line">    <span class="keyword">var</span> arr1:<span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = <span class="type">ArrayBuffer</span>[<span class="type">Int</span>]()</span><br><span class="line">    <span class="keyword">for</span>(elem &lt;- arr <span class="keyword">if</span> op(elem))&#123;</span><br><span class="line">      arr1.append(elem)</span><br><span class="line">    &#125;</span><br><span class="line">    arr1.toArray</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> arr1 = filter(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), _ % <span class="number">2</span> == <span class="number">1</span>)</span><br><span class="line">  println(arr1.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">  <span class="comment">// （3）reduce 聚合。有多个参数，且每个参数再后面只使用一次，则参数省略且后面参数用_表示，第n 个_代表第n 个参数</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">reduce</span></span>(arr: <span class="type">Array</span>[<span class="type">Int</span>], op: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Int</span>) = &#123;</span><br><span class="line">    <span class="keyword">var</span> init: <span class="type">Int</span> = arr(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- <span class="number">1</span> until arr.length) &#123; </span><br><span class="line">      init = op(init, elem)</span><br><span class="line">    &#125;</span><br><span class="line">    init</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//val arr2 = reduce(Array(1, 2, 3, 4), (x, y) =&gt; x * y)</span></span><br><span class="line">  <span class="keyword">val</span> arr2 = reduce(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), _ * _)</span><br><span class="line">  println(arr2)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1,4,9,16</span><br><span class="line">1,3</span><br><span class="line">6</span><br></pre></td></tr></table></figure>
<h3 id="4-函数柯里化-闭包">4.函数柯里化&amp;闭包</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li><font color=red>闭包：</font>如果一个函数，访问到了它的外部（局部）变量的值，那么这个函数和他所处的环境，称为闭包</li>
<li><font color=red>函数柯里化：</font>把一个参数列表的多个参数，变成多个参数列表</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>()=&#123;</span><br><span class="line">    <span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(b:<span class="type">Int</span>)=&#123;</span><br><span class="line">      a + b</span><br><span class="line">    &#125;</span><br><span class="line">    f2 _</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 在调用时，f1 函数执行完毕后，局部变量 a 应该随着栈空间释放掉</span></span><br><span class="line">  <span class="keyword">val</span> f = f1()</span><br><span class="line">  <span class="comment">// 但是在此处，变量 a 其实并没有释放，而是包含在了 f2 函数的内部，形成了闭合的效果</span></span><br><span class="line">  println(f(<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line">  println(f1()(<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 函数柯里化，其实就是将复杂的参数逻辑变得简单化,函数柯里化一定存在闭包</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f3</span></span>()(b:<span class="type">Int</span>)=&#123;</span><br><span class="line">    <span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">    a + b</span><br><span class="line">  &#125;</span><br><span class="line">  println(f3()(<span class="number">3</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">13</span><br><span class="line">13</span><br><span class="line">13</span><br></pre></td></tr></table></figure>
<h3 id="5-递归">5.递归</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>一个函数/方法在函数/方法体内又调用了本身，我们称之为递归调用</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 阶乘</span></span><br><span class="line">  <span class="comment">// 递归算法</span></span><br><span class="line">  <span class="comment">// 1) 方法调用自身</span></span><br><span class="line">  <span class="comment">// 2) 方法必须要有跳出的逻辑</span></span><br><span class="line">  <span class="comment">// 3) 方法调用自身时，传递的参数应该有规律</span></span><br><span class="line">  <span class="comment">// 4) scala 中的递归必须声明函数返回值类型</span></span><br><span class="line">  println(test(<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(i : <span class="type">Int</span>) : <span class="type">Int</span> = &#123;</span><br><span class="line">  <span class="keyword">if</span> (i == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="number">1</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    i * test(i - <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">120</span><br></pre></td></tr></table></figure>
<h3 id="6-控制抽象">6.控制抽象</h3>
<ul>
<li><strong>值调用：把计算后的值传递过去</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f</span> </span>= ()=&gt;&#123;</span><br><span class="line">    println(<span class="string">&quot;f...&quot;</span>)</span><br><span class="line">    <span class="number">10</span></span><br><span class="line">  &#125;</span><br><span class="line">  foo(f())</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span></span>(a: <span class="type">Int</span>):<span class="type">Unit</span> = &#123;</span><br><span class="line">  println(a)</span><br><span class="line">  println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f...</span><br><span class="line">10</span><br><span class="line">10</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>名调用：把代码传递过去</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f</span> </span>= ()=&gt;&#123;</span><br><span class="line">    println(<span class="string">&quot;f...&quot;</span>)</span><br><span class="line">    <span class="number">10</span></span><br><span class="line">  &#125;</span><br><span class="line">  foo(f())</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//def foo(a: Int):Unit = &#123;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span></span>(a: =&gt;<span class="type">Int</span>):<span class="type">Unit</span> = &#123;<span class="comment">//注意这里变量 a 没有小括号了</span></span><br><span class="line">  println(a)</span><br><span class="line">  println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f...</span><br><span class="line">10</span><br><span class="line">f...</span><br><span class="line">10</span><br></pre></td></tr></table></figure>
<p><strong><font color=red>注：</font>Java 只有值调用；Scala 既有值调用，又有名调用</strong></p>
<ul>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="comment">// （1）传递代码块</span></span><br><span class="line">  foo(&#123;</span><br><span class="line">    println(<span class="string">&quot;aaa&quot;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// （2）小括号可以省略</span></span><br><span class="line">  foo&#123;</span><br><span class="line">    println(<span class="string">&quot;aaa&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span></span>(a: =&gt;<span class="type">Unit</span>):<span class="type">Unit</span> = &#123;</span><br><span class="line">  println(a)</span><br><span class="line">  println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">aaa</span><br><span class="line">()</span><br><span class="line">aaa</span><br><span class="line">()</span><br><span class="line">aaa</span><br><span class="line">()</span><br><span class="line">aaa</span><br><span class="line">()</span><br></pre></td></tr></table></figure>
<p><strong>自定义一个 While 循环</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="keyword">var</span> i:<span class="type">Int</span> = <span class="number">1</span></span><br><span class="line">  myWhile(i &lt;= <span class="number">10</span>)&#123;</span><br><span class="line">    println(i)</span><br><span class="line">    i +=<span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myWhile</span></span>(condition: =&gt;<span class="type">Boolean</span>)(op: =&gt;<span class="type">Unit</span>):<span class="type">Unit</span>=&#123;</span><br><span class="line">  <span class="keyword">if</span> (condition)&#123;</span><br><span class="line">    op</span><br><span class="line">    myWhile(condition)(op)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td></tr></table></figure>
<h3 id="7-惰性加载">7.惰性加载</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>当函数返回值被声明为 lazy 时，函数的执行将被推迟，直到我们首次对此取值，该函数才会执行。这种函数我们称之为惰性函数</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="keyword">lazy</span> <span class="keyword">val</span> res = sum(<span class="number">10</span>, <span class="number">30</span>)</span><br><span class="line">  println(<span class="string">&quot;----------------&quot;</span>)</span><br><span class="line">  println(<span class="string">&quot;res=&quot;</span> + res)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(n1: <span class="type">Int</span>, n2: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">  println(<span class="string">&quot;sum 被执行。。。&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> n1 + n2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">----------------</span><br><span class="line">sum 被执行。。。</span><br><span class="line">res=40</span><br></pre></td></tr></table></figure>
<p><strong><font color=red>注：</font>lazy 不能修饰 var 类型的变量</strong></p>
<h1 id="六、面向对象">六、面向对象</h1>
<h2 id="Scala包">Scala包</h2>
<ul>
<li><strong>基本语法</strong>
<ul>
<li>package 包 名</li>
</ul>
</li>
<li><strong>Scala包的三大作用（同Java相同）</strong>
<ul>
<li>区分相同名字的类</li>
<li>当类很多时，可以很好的管理类</li>
<li>控制访问范围</li>
</ul>
</li>
</ul>
<h3 id="1-包的命名">1.包的命名</h3>
<ul>
<li><strong>命名规则</strong>
<ul>
<li>只能包含数字、字母、下划线、小圆点.，但不能用数字开头，也不要使用关键字</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">demo.<span class="keyword">class</span>.exec1	<span class="comment">//错误，因为 class 关键字</span></span><br><span class="line">demo<span class="number">.12</span>a	<span class="comment">//错误，数字开头</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>命名规范</strong>
<ul>
<li>一般是小写字母+小圆点</li>
<li>com.公司名.项目名.业务模块名</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">com.atguigu.oa.model</span><br><span class="line">com.atguigu.oa.controller</span><br><span class="line">com.sohu.bank.order</span><br></pre></td></tr></table></figure>
<h3 id="2-包语句">2.包语句</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>Scala 有两种包的管理风格，一种方式和 Java 的包管理风格相同，每个源文件一个包（包名和源文件所在路径不要求必须一致），包名用“.”进行分隔以表示包的层级关系，如com.atguigu.scala。另一种风格，通过嵌套的风格表示层级关系，如下</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span></span><br><span class="line">	com&#123; <span class="keyword">package</span></span><br><span class="line">	atguigu&#123;</span><br><span class="line">		<span class="keyword">package</span> scala&#123;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>第二种风格有以下特点</strong>
<ul>
<li>一个源文件中可以声明多个 package</li>
<li>子包中的类可以直接访问父包中的内容，而无需导包</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">import</span> com.atguigu.<span class="type">Inner</span> <span class="comment">//父包访问子包需要导包</span></span><br><span class="line">	</span><br><span class="line">	<span class="class"><span class="keyword">object</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line">		<span class="keyword">val</span> out: <span class="type">String</span> = <span class="string">&quot;out&quot;</span></span><br><span class="line">		</span><br><span class="line">		<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">			println(<span class="type">Inner</span>.in)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">package</span> atguigu &#123;</span><br><span class="line">		<span class="class"><span class="keyword">object</span> <span class="title">Inner</span> </span>&#123;</span><br><span class="line">			<span class="keyword">val</span> in: <span class="type">String</span> = <span class="string">&quot;in&quot;</span></span><br><span class="line">			<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">				println(<span class="type">Outer</span>.out) <span class="comment">//子包访问父包无需导包</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">package</span> other &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-包对象">3.包对象</h3>
<p><strong>在 Scala 中可以为每个包定义一个同名的包对象，定义在包对象中的成员，作为其对应包下所有 class 和 object 的共享变量，可以被直接访问</strong></p>
<ul>
<li><strong>定义</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="class"><span class="keyword">object</span> <span class="title">com</span></span>&#123;</span><br><span class="line">	<span class="keyword">val</span> shareValue=<span class="string">&quot;share&quot;</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">shareMethod</span></span>()=&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>若使用 Java 的包管理风格，则包对象一般定义在其对应包下的 package.scala文件中，包对象名与包名保持一致</li>
<li>如采用嵌套方式管理包，则包对象可与包定义在同一文件中，但是要保证包对象与包声明在同一作用域中</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com &#123;</span><br><span class="line">	<span class="class"><span class="keyword">object</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line">		<span class="keyword">val</span> out: <span class="type">String</span> = <span class="string">&quot;out&quot;</span></span><br><span class="line">		<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">			println(name)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">package</span> <span class="class"><span class="keyword">object</span> <span class="title">com</span> </span>&#123;</span><br><span class="line">	<span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;com&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-导包说明">4.导包说明</h3>
<ul>
<li><strong>Scala和 Java 一样，可以在顶部使用 import 导入，在这个文件中的所有类都可以使用</strong></li>
<li><strong>局部导入：</strong> 什么时候使用，什么时候导入</li>
<li><strong>通配符导入：</strong> import java.util._</li>
<li><strong>给类起名：</strong> import java.util.{ArrayList=&gt;JL}</li>
<li><strong>导入相同包的多个类：</strong> import java.util.{HashSet, ArrayList}</li>
<li><strong>屏蔽类：</strong> import java.util.{ArrayList =&gt;<em>,</em>}</li>
<li><strong>导入包的绝对路径：</strong> new _root_.java.util.HashMap</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java </span><br><span class="line">	&#123; <span class="keyword">package</span> util </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">HashMap</span> </span>&#123;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong></li>
</ul>
<table>
	<tr align=center>
		<td align=left>import com.atguigu.Fruit</td>
		<td align=left>引入 com.atguigu 包下Fruit（class 和 object）</td>
	</tr>
	<tr align=center>
		<td align=left>import com.atguigu._</td>
		<td align=left>引入 com.atguigu 下的所有成员</td>
	</tr>
	<tr align=center>
		<td align=left>import com.atguigu.Fruit._</td>
		<td align=left>引入 Fruit(object)的所有成员</td>
	</tr>
	<tr align=center>
		<td align=left>import com.atguigu.{Fruit,Vegetable}</td>
		<td align=left>引入 com.atguigu 下的Fruit 和 Vegetable</td>
	</tr>
	<tr align=center>
		<td align=left>import com.atguigu.{Fruit=>Shuiguo}</td>
		<td align=left>引入 com.atguigu 包下的 Fruit 并更名为 Shuiguo</td>
	</tr>
	<tr align=center>
		<td align=left>import com.atguigu.{Fruit=>Shuiguo,_}</td>
		<td align=left>引入 com.atguigu 包下的所有成员，并将 Fruit 更名为 Shuiguo</td>
	</tr>
	<tr align=center>
		<td align=left>import com.atguigu.{Fruit=>_,_}</td>
		<td align=left>引入 com.atguigu 包下屏蔽 Fruit 类</td>
	</tr>
	<tr align=center>
		<td align=left>new _root_.java.util.HashMap</td>
		<td align=left>引入的 Java 的绝对路径</td>
	</tr>
</table>
<p><strong><font color=red>注：</font>Scala 中的三个默认导入分别是</strong></p>
<ul>
<li>import java.lang._</li>
<li>import scala._</li>
<li>import scala.Predef._</li>
</ul>
<h2 id="类和对象">类和对象</h2>
<p><strong>类：</strong> 可以看成一个模板<br>
<strong>对象：</strong> 表示具体的事物</p>
<h3 id="1-类的定义">1.类的定义</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] <span class="class"><span class="keyword">class</span> <span class="title">类名</span> </span>&#123;</span><br><span class="line">	类体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>Scala 语法中，类并不声明为 public，所有这些类都具有公有可见性（即默认就是public）</li>
<li>一个 Scala 源文件可以包含多个类</li>
</ul>
</li>
</ul>
<h3 id="2-属性">2.属性</h3>
<p><strong>属性是类的一个组成部分</strong></p>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] <span class="keyword">var</span>|<span class="keyword">val</span> 属性名称 [：类型] = 属性值</span><br></pre></td></tr></table></figure>
<p><font color=red><strong>注：</strong></font>Bean 属性（@BeanPropetry），可以自动生成规范的 setXxx/getXxx 方法</p>
<ul>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.beans.<span class="type">BeanProperty</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">&quot;bobo&quot;</span> <span class="comment">//定义属性</span></span><br><span class="line">	<span class="keyword">var</span> age: <span class="type">Int</span> = _ <span class="comment">// _表示给属性一个默认值</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Bean 属性（@BeanProperty）</span></span><br><span class="line">	<span class="meta">@BeanProperty</span> <span class="keyword">var</span> sex: <span class="type">String</span> = <span class="string">&quot;男&quot;</span></span><br><span class="line">	<span class="comment">//val 修饰的属性不能赋默认值，必须显示指定</span></span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">var</span> person = <span class="keyword">new</span> <span class="type">Person</span>()</span><br><span class="line">		println(person.name)</span><br><span class="line">		</span><br><span class="line">		person.setSex(<span class="string">&quot;女&quot;</span>)</span><br><span class="line">		println(person.getSex)</span><br><span class="line">		</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bobo</span><br><span class="line">女</span><br></pre></td></tr></table></figure>
<h3 id="3-访问权限">3.访问权限</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>在 Java 中，访问权限分为：public，private，protected 和默认。在 Scala 中，可以通过类似的修饰符达到同样的效果，但是使用上有区别</li>
<li>（1）Scala 中属性和方法的默认访问权限为 public，但 Scala 中无 public 关键字</li>
<li>（2）private 为私有权限，只在类的内部和伴生对象中可用</li>
<li>（3）<font color=red>protected 为受保护权限，Scala 中受保护权限比 Java 中更严格，同类、子类可以访问，同包无法访问</font></li>
<li>（4）<font color=red>private[包名]增加包访问权限，包名下的其他类也可以使用</font></li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">&quot;bobo&quot;</span> </span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">var</span> age: <span class="type">Int</span> = <span class="number">18</span> </span><br><span class="line">	<span class="keyword">private</span>[demo] <span class="keyword">var</span> sex: <span class="type">String</span> = <span class="string">&quot;男&quot;</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">say</span></span>(): <span class="type">Unit</span> = &#123; </span><br><span class="line">		println(name)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123; </span><br><span class="line">		<span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span> </span><br><span class="line">		person.say()</span><br><span class="line">		println(person.name)</span><br><span class="line">		println(person.age)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123; </span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="keyword">this</span>.age </span><br><span class="line">		<span class="keyword">this</span>.sex</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">test</span></span>: <span class="type">Unit</span> = &#123; </span><br><span class="line">		<span class="keyword">new</span> <span class="type">Person</span>().sex</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bobo</span><br><span class="line">bobo</span><br><span class="line">18</span><br></pre></td></tr></table></figure>
<h3 id="4-方法">4.方法</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">方法名</span></span>(参数列表) [：返回值类型] = &#123;</span><br><span class="line">	方法体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(n1:<span class="type">Int</span>, n2:<span class="type">Int</span>) : <span class="type">Int</span> = &#123; </span><br><span class="line">		n1 + n2</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123; </span><br><span class="line">		<span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span>() </span><br><span class="line">		println(person.sum(<span class="number">10</span>, <span class="number">20</span>))</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">30</span><br></pre></td></tr></table></figure>
<h3 id="5-创建对象">5.创建对象</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> | <span class="keyword">var</span> 对象名 [：类型]	= <span class="keyword">new</span> 类型()</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例</strong>
<ul>
<li>val 修饰对象，不能改变对象的引用（即：内存地址），可以改变对象属性的值</li>
<li>var 修饰对象，可以修改对象的引用和修改对象的属性值</li>
<li>自动推导变量类型不能多态，所以多态需要显示声明</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">&quot;canglaoshi&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">//val 修饰对象，不能改变对象的引用（即：内存地址），可以改变对象属性的值</span></span><br><span class="line">		<span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span>() </span><br><span class="line">		person.name = <span class="string">&quot;bobo&quot;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// person = new Person()// 错误的</span></span><br><span class="line">		</span><br><span class="line">		println(person.name)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bobo</span><br></pre></td></tr></table></figure>
<h3 id="6-构造器">6.构造器</h3>
<p>和 Java 一样，Scala 构造对象也需要调用构造方法，并且可以有任意多个构造方法。<br>
Scala 类的构造器包括：<strong>主构造器和辅助构造器</strong></p>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span>  <span class="title">类名</span>(<span class="params">形参列表</span>) </span>&#123;	<span class="comment">// 主构造器</span></span><br><span class="line">	<span class="comment">// 类 体</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span>	<span class="title">this</span></span>(形参列表) &#123;	<span class="comment">// 辅助构造器</span></span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span>	<span class="title">this</span></span>(形参列表) &#123;	<span class="comment">//辅助构造器可以有多个</span></span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>辅助构造器，函数的名称 this，可以有多个，编译器通过参数的个数及类型来区分</li>
<li>辅助构造方法不能直接构建对象，必须直接或者间接调用主构造方法</li>
<li><font color=red>构造器调用其他另外的构造器，要求被调用构造器必须提前声明</font></li>
</ul>
</li>
<li><strong>案例</strong>
<ul>
<li>如果主构造器无参数，小括号可省略，构建对象时调用的构造方法的小括号也可以省略</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//（1）如果主构造器无参数，小括号可省略</span></span><br><span class="line"><span class="comment">//class Person ()&#123;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> name: <span class="type">String</span> = _</span><br><span class="line">	<span class="keyword">var</span> age: <span class="type">Int</span> = _</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(age: <span class="type">Int</span>) &#123;</span><br><span class="line">		<span class="keyword">this</span>()</span><br><span class="line">		<span class="keyword">this</span>.age = age</span><br><span class="line">		println(<span class="string">&quot;辅助构造器&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(age: <span class="type">Int</span>, name: <span class="type">String</span>) &#123;</span><br><span class="line">		<span class="keyword">this</span>(age)</span><br><span class="line">		<span class="keyword">this</span>.name = name</span><br><span class="line">	&#125;</span><br><span class="line">	println(<span class="string">&quot;主构造器&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="keyword">val</span> person2 = <span class="keyword">new</span> <span class="type">Person</span>(<span class="number">18</span>)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">主构造器</span><br><span class="line">辅助构造器</span><br></pre></td></tr></table></figure>
<h3 id="7-构造器参数">7.构造器参数</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>Scala 类的主构造器函数的形参包括三种类型：未用任何修饰、var 修饰、val 修饰</li>
<li>（1）未用任何修饰符修饰，这个参数就是一个局部变量</li>
<li>（2）var 修饰参数，作为类的成员属性使用，可以修改</li>
<li>（3）val 修饰参数，作为类只读属性使用，不能修改</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">name: <span class="type">String</span>, var age: <span class="type">Int</span>, val sex: <span class="type">String</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">var</span> person = <span class="keyword">new</span> <span class="type">Person</span>(<span class="string">&quot;bobo&quot;</span>, <span class="number">18</span>, <span class="string">&quot;男&quot;</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// （1）未用任何修饰符修饰，这个参数就是一个局部变量</span></span><br><span class="line">		<span class="comment">// printf(person.name)</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// （2）var 修饰参数，作为类的成员属性使用，可以修改</span></span><br><span class="line">		person.age = <span class="number">19</span></span><br><span class="line">		println(person.age)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// （3）val 修饰参数，作为类的只读属性使用，不能修改</span></span><br><span class="line">		<span class="comment">// person.sex = &quot;女&quot;</span></span><br><span class="line">		println(person.sex)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">19</span><br><span class="line">男</span><br></pre></td></tr></table></figure>
<h2 id="封装、继承和多态">封装、继承和多态</h2>
<h3 id="1-封装">1.封装</h3>
<p><strong>封装就是把抽象出的数据和对数据的操作封装在一起，数据被保护在内部，程序的其它部分只有通过被授权的操作（成员方法），才能对数据进行操作。Java 封装操作如下：</strong></p>
<ul>
<li><strong>将属性进行私有化</strong></li>
<li><strong>提供一个公共的 set 方法，用于对属性赋值</strong></li>
<li><strong>提供一个公共的 get 方法，用于获取属性的值</strong></li>
</ul>
<p><strong>Scala 中的 <font color=red>public </font>属性，底层实际为 private，并通过 get 方法（<font color=red>obj.field()</font>）和 set 方法（<font color=red>obj.field_=(value)</font>）对其进行操作。所以 Scala 并不推荐将属性设为 private，再为其设置public 的 get 和 set 方法的做法。但由于很多 Java 框架都利用反射调用 getXXX 和 setXXX 方法，有时候为了和这些框架兼容，也会为 Scala 的属性设置 getXXX 和 setXXX 方法（通过<font color=red>@BeanProperty </font>注解实现）</strong></p>
<h3 id="2-继承和多态">2.继承和多态</h3>
<ul>
<li><strong>基本语法</strong>
<ul>
<li>子类继承父类的属性和方法</li>
<li>scala 是单继承</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">子类名</span> <span class="keyword">extends</span> <span class="title">父类名</span> </span>&#123; 类体 &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例</strong>
<ul>
<li>继承的调用顺序：父类构造器-&gt;子类构造器</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">nameParam: <span class="type">String</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> name = nameParam</span><br><span class="line">	<span class="keyword">var</span> age: <span class="type">Int</span> = _</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(nameParam: <span class="type">String</span>, ageParam: <span class="type">Int</span>) &#123;</span><br><span class="line">		<span class="keyword">this</span>(nameParam)</span><br><span class="line">		<span class="keyword">this</span>.age = ageParam</span><br><span class="line">		println(<span class="string">&quot;父类辅助构造器&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	println(<span class="string">&quot;父类主构造器&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Emp</span>(<span class="params">nameParam: <span class="type">String</span>, ageParam: <span class="type">Int</span></span>) <span class="keyword">extends</span> <span class="title">Person</span>(<span class="params">nameParam, ageParam</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> empNo: <span class="type">Int</span> = _</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(nameParam: <span class="type">String</span>, ageParam: <span class="type">Int</span>, empNoParam: <span class="type">Int</span>) &#123;</span><br><span class="line">		<span class="keyword">this</span>(nameParam, ageParam)</span><br><span class="line">		<span class="keyword">this</span>.empNo = empNoParam</span><br><span class="line">		println(<span class="string">&quot;子类的辅助构造器&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	println(<span class="string">&quot;子类主构造器&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="keyword">new</span> <span class="type">Emp</span>(<span class="string">&quot;z3&quot;</span>, <span class="number">11</span>,<span class="number">1001</span>)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">父类主构造器</span><br><span class="line">父类辅助构造器</span><br><span class="line">子类主构造器</span><br><span class="line">子类的辅助构造器</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>动态绑定</strong>
<ul>
<li>Scala 中属性和方法都是动态绑定，而 Java 中只有方法为动态绑定</li>
</ul>
</li>
<li><strong>案例（对比Java与Scala的重写）</strong>
<ul>
<li>Scala</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;person&quot;</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">hello</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">		println(<span class="string">&quot;hello person&quot;</span>)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="keyword">override</span> <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;teacher&quot;</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">hello</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">		println(<span class="string">&quot;hello teacher&quot;</span>)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="keyword">val</span> teacher: <span class="type">Teacher</span> = <span class="keyword">new</span> <span class="type">Teacher</span>()</span><br><span class="line">		println(teacher.name)</span><br><span class="line">		teacher.hello()</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">val</span> teacher1:<span class="type">Person</span> = <span class="keyword">new</span> <span class="type">Teacher</span></span><br><span class="line">		println(teacher1.name)</span><br><span class="line">		teacher1.hello()</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">teacher</span><br><span class="line">hello teacher</span><br><span class="line">teacher</span><br><span class="line">hello teacher</span><br></pre></td></tr></table></figure>
<ul>
<li>Java</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;person&quot;</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;hello person&quot;</span>);</span><br><span class="line">	&#125; </span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;teacher&quot;</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;hello teacher&quot;</span>);</span><br><span class="line">	&#125; </span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDynamic</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="type">Teacher</span> <span class="variable">teacher</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">		<span class="type">Person</span> <span class="variable">teacher1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">		</span><br><span class="line">		System.out.println(teacher.name);</span><br><span class="line">		teacher.hello();</span><br><span class="line">		</span><br><span class="line">		System.out.println(teacher1.name);</span><br><span class="line">		teacher1.hello();</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">teacher</span><br><span class="line">hello teacher</span><br><span class="line">person</span><br><span class="line">hello teacher</span><br></pre></td></tr></table></figure>
<h2 id="抽象类">抽象类</h2>
<h3 id="1-抽象属性和抽象方法">1.抽象属性和抽象方法</h3>
<ul>
<li><strong>基本语法</strong>
<ul>
<li><strong>定义抽象类：</strong> abstract class Person{} //通过 abstract 关键字标记抽象类</li>
<li><strong>定义抽象属性：</strong> val|var name:String //一个属性没有初始化，就是抽象属性</li>
<li><strong>定义抽象方法：</strong> def hello():String //只声明而没有实现的方法，就是抽象方法</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">val</span> name: <span class="type">String</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">hello</span></span>(): <span class="type">Unit</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;teacher&quot;</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">hello</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">		println(<span class="string">&quot;hello teacher&quot;</span>)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>继承&amp;重写</strong>
<ul>
<li>如果父类为抽象类，那么子类需要将抽象的属性和方法实现，否则子类也需声明为抽象类</li>
<li>重写非抽象方法需要用 override 修饰，重写抽象方法则可以不加 override</li>
<li>子类中调用父类的方法使用 super 关键字</li>
<li>子类对抽象属性进行实现，父类抽象属性可以用 var 修饰</li>
<li>子类对非抽象属性重写，父类非抽象属性只支持 val 类型，而不支持 var，<font color=red>因为 var 修饰的为可变变量，子类继承之后就可以直接使用，没有必要重写</font></li>
</ul>
</li>
</ul>
<h3 id="2-匿名子类">2.匿名子类</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>和 Java 一样，可以通过包含带有定义或重写的代码块的方式创建一个匿名的子类</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="keyword">val</span> name: <span class="type">String</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">hello</span></span>(): <span class="type">Unit</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span> &#123;</span><br><span class="line">			<span class="keyword">override</span> <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;teacher&quot;</span></span><br><span class="line">			<span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">hello</span></span>(): <span class="type">Unit</span> = println(<span class="string">&quot;hello teacher&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="单例对象（伴生对象）">单例对象（伴生对象）</h2>
<p><strong>Scala语言是<font color=red>完全面向对象</font>的语言，所以并没有静态的操作（即在Scala中没有静态的概念）。但是为了能够和Java语言交互（因为Java中有静态概念），就产生了一种特殊的对象来<font color=red>模拟类对象</font>，该对象为<font color=red>单例对象</font>。若单例对象名与类名一致，则称该单例对象这个类的<font color=red>伴生对象</font>，这个类的所有“静态”内容都可以<font color=red>放置在它的伴生对象</font>中声明</strong></p>
<h3 id="1-单例对象语法">1.单例对象语法</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">val</span> country:<span class="type">String</span>=<span class="string">&quot;China&quot;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>单例对象采用<font color=red>object </font>关键字声明</li>
<li>单例对象对应的类称之为<font color=red>伴生类</font>，伴生对象的名称应该和伴生类名一致</li>
<li>单例对象中的属性和方法都可以通过伴生对象名（类名）直接调用访问</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//（1）伴生对象采用 object 关键字声明</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> country: <span class="type">String</span> = <span class="string">&quot;China&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//（2）伴生对象对应的类称之为伴生类，伴生对象的名称应该和伴生类名一致</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">&quot;bobo&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">//（3）伴生对象中的属性和方法都可以通过伴生对象名（类名）直接调用访问</span></span><br><span class="line">		println(<span class="type">Person</span>.country)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-apply方法">2.apply方法</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>通过<font color=red>伴生对象</font>的 <font color=red>apply </font>方法，实现不使用 new 方法创建对象</li>
<li>如果想让主构造器变成私有的，可以在()之前加上 private</li>
<li>apply 方法可以重载</li>
<li>Scala 中<font color=red> obj(arg)</font>的语句实际是在调用该对象的<font color=red> apply </font>方法，即 obj.apply(arg)。用以统一面向对象编程和函数式编程的风格</li>
<li>当使用 new 关键字构建对象时，调用的其实是类的构造方法，当直接使用类名构建对象时，调用的其实时伴生对象的 apply 方法</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//（1）通过伴生对象的 apply 方法，实现不使用 new 关键字创建对象</span></span><br><span class="line">		<span class="keyword">val</span> p1 = <span class="type">Person</span>() </span><br><span class="line">		println(<span class="string">&quot;p1.name=&quot;</span> + p1.name)</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">val</span> p2 = <span class="type">Person</span>(<span class="string">&quot;bobo&quot;</span>) </span><br><span class="line">		println(<span class="string">&quot;p2.name=&quot;</span> + p2.name)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//（2）如果想让主构造器变成私有的，可以在()之前加上 private </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="title">private</span>(<span class="params">cName: <span class="type">String</span></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> name: <span class="type">String</span> = cName</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(): <span class="type">Person</span> = &#123;</span><br><span class="line">		println(<span class="string">&quot;apply 空参被调用&quot;</span>) </span><br><span class="line">		<span class="keyword">new</span> <span class="type">Person</span>(<span class="string">&quot;xx&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(name: <span class="type">String</span>): <span class="type">Person</span> = &#123;</span><br><span class="line">		println(<span class="string">&quot;apply 有参被调用&quot;</span>) </span><br><span class="line">		<span class="keyword">new</span> <span class="type">Person</span>(name)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//注意：也可以创建其它类型对象，并不一定是伴生类对象</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apply 空参被调用</span><br><span class="line">p1.name=xx</span><br><span class="line">apply 有参被调用</span><br><span class="line">p2.name=bobo</span><br></pre></td></tr></table></figure>
<h2 id="特质">特质</h2>
<p><strong><font color=red>Scala 语言中，采用特质 trait（特征）来代替接口的概念</font>，也就是说，多个类具有相同的特质（特征）时，就可以将这个特质（特征）独立出来，采用关键字 trait 声明<br>
Scala 中的 trait 中即<font color=red>可以有抽象属性和方法，也可以有具体的属性和方法，一个类可以混入（mixin）多个特质</font>。这种感觉<font color=red>类似于 Java 中的抽象类</font><br>
Scala 引入 trait 特征，第一可以替代 Java 的接口，第二个也是对单继承机制的一种补充</strong></p>
<h3 id="1-特质声明">1.特质声明</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">特质名</span> </span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">trait</span> <span class="title">主体</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">PersonTrait</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 声明属性</span></span><br><span class="line">	<span class="keyword">var</span> name:<span class="type">String</span> = _</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 声明方法</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>():<span class="type">Unit</span>=&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 抽象属性</span></span><br><span class="line">	<span class="keyword">var</span> age:<span class="type">Int</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 抽象方法</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">say</span></span>():<span class="type">Unit</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-特质基本语法">2.特质基本语法</h3>
<p><strong>一个类具有某种特质（特征），就意味着这个类满足了这个特质（特征）的所有要素， 所以在使用时，也采用了<font color=red>extends 关键字</font>，如果有多个特质或存在父类，那么需要采用<font color=red>with 关键字</font>连接</strong></p>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">没有父类：<span class="class"><span class="keyword">class</span>	<span class="title">类名</span> <span class="keyword">extends</span>	<span class="title">特质</span> 1	<span class="keyword">with</span>	<span class="title">特质</span> 2	<span class="keyword">with</span>	<span class="title">特质</span> 3 <span class="title">…</span></span></span><br><span class="line">有父类：	<span class="class"><span class="keyword">class</span>	<span class="title">类名</span>	<span class="keyword">extends</span>	<span class="title">父类</span>	<span class="keyword">with</span>	<span class="title">特质</span> 1	<span class="keyword">with</span>	<span class="title">特质</span> 2	<span class="keyword">with</span>  <span class="title">特质</span> 3<span class="title">…</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>类和特质的关系：使用继承的关系</li>
<li>当一个类去继承特质时，第一个连接词是 extends，后面是with</li>
<li>如果一个类在同时继承特质和父类时，应当把父类写在 extends 后</li>
</ul>
</li>
<li><strong>案例</strong>
<ul>
<li>特质可以同时拥有抽象方法和具体方法</li>
<li>一个类可以混入（mixin）多个特质</li>
<li>所有的 Java 接口都可以当做Scala 特质使用</li>
<li><strong>动态混入</strong>：可灵活的扩展类的功能
<ul>
<li><font color=red>动态混入：创建对象时混入 trait，而无需使类混入该 trait</font></li>
<li>如果混入的 trait 中有未实现的方法，则需要实现</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">PersonTrait</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//（1）特质可以同时拥有抽象方法和具体方法</span></span><br><span class="line">	<span class="comment">// 声明属性</span></span><br><span class="line">	<span class="keyword">var</span> name: <span class="type">String</span> = _</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 抽象属性</span></span><br><span class="line">	<span class="keyword">var</span> age: <span class="type">Int</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 声明方法</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">		println(<span class="string">&quot;eat&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 抽象方法</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">say</span></span>(): <span class="type">Unit</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">SexTrait</span> </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> sex: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//（2）一个类可以实现/继承多个特质</span></span><br><span class="line"><span class="comment">//（3）所有的 Java 接口都可以当做 Scala 特质使用</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">PersonTrait</span> <span class="keyword">with</span> <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">say</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">		println(<span class="string">&quot;say&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">override</span> <span class="keyword">var</span> age: <span class="type">Int</span> = _</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestTrait</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">val</span> teacher = <span class="keyword">new</span> <span class="type">Teacher</span></span><br><span class="line">		</span><br><span class="line">		teacher.say()</span><br><span class="line">		teacher.eat()</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（4）动态混入：可灵活的扩展类的功能</span></span><br><span class="line">		<span class="keyword">val</span> t2 = <span class="keyword">new</span> <span class="type">Teacher</span> <span class="keyword">with</span> <span class="type">SexTrait</span> &#123;</span><br><span class="line">			<span class="keyword">override</span> <span class="keyword">var</span> sex: <span class="type">String</span> = <span class="string">&quot;男&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//调用混入 trait 的属性</span></span><br><span class="line">		println(t2.sex)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">say</span><br><span class="line">eat</span><br><span class="line">男</span><br></pre></td></tr></table></figure>
<h3 id="3-特质叠加">3.特质叠加</h3>
<p><strong>由于一个类可以混入（mixin）多个 trait，且 trait 中可以有具体的属性和方法，若混入的特质中具有相同的方法（方法名，参数列表，返回值均相同），必然会出现继承冲突问题。<br>
冲突分为以下两种：</strong></p>
<ul>
<li>一个类（Sub）混入的两个 trait（TraitA，TraitB）中具有相同的具体方法，且两个 trait 之间没有任何关系，解决这类冲突问题，直接在类（Sub）中重写冲突方法<br>
<img src="https://img-blog.csdnimg.cn/2021040715005761.png" alt="在这里插入图片描述"></li>
<li>一个类（Sub）混入的两个 trait（TraitA，TraitB）中具有相同的具体方法，且两个 trait 继承自相同的 trait（TraitC），及所谓的“钻石问题”，解决这类冲突问题，Scala 采用了特质叠加的策略<br>
<img src="https://img-blog.csdnimg.cn/20210407150151294.png" alt="在这里插入图片描述"></li>
<li><strong>案例</strong>
<ul>
<li>所谓的特质叠加，就是将混入的多个 trait 中的冲突方法叠加起来</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Ball</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(): <span class="type">String</span> = &#123; </span><br><span class="line">		<span class="string">&quot;ball&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Color</span> <span class="keyword">extends</span> <span class="title">Ball</span> </span>&#123;</span><br><span class="line">	<span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(): <span class="type">String</span> = &#123; </span><br><span class="line">		<span class="string">&quot;blue-&quot;</span> + <span class="keyword">super</span>.describe()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Category</span> <span class="keyword">extends</span> <span class="title">Ball</span> </span>&#123; </span><br><span class="line">	<span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line">		<span class="string">&quot;foot-&quot;</span> + <span class="keyword">super</span>.describe()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyBall</span> <span class="keyword">extends</span> <span class="title">Category</span> <span class="keyword">with</span> <span class="title">Color</span> </span>&#123; </span><br><span class="line">	<span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line">		<span class="string">&quot;my ball is a &quot;</span> + <span class="keyword">super</span>.describe()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestTrait</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123; </span><br><span class="line">		println(<span class="keyword">new</span> <span class="type">MyBall</span>().describe())</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">my ball is a blue-foot-ball</span><br></pre></td></tr></table></figure>
<h3 id="4-特质叠加执行顺序">4.特质叠加执行顺序</h3>
<p>上面案例中的 super.describe()调用的是父 trait 中的方法吗？<br>
<strong>当一个类混入多个特质的时候，scala 会对所有的特质及其父特质按照一定的顺序进行排序，而此案例中的 super.describe()调用的实际上是排好序后的下一个特质中的 describe() 方法。排序规则如下：</strong><br>
<img src="https://img-blog.csdnimg.cn/2021040909110545.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc1ODg3Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<ul>
<li><strong>结论</strong>
<ul>
<li>案例中的 super，不是表示其父特质对象，而是表示上述叠加顺序中的下一个特质，即，<font color=red>MyClass 中的 super 指代 Color，Color 中的 super 指代 Category，Category 中的 super指代 Ball</font></li>
<li>如果想要调用某个指定的混入特质中的方法，可以增加约束：super[]，例如super[Category].describe()</li>
</ul>
</li>
</ul>
<h3 id="5-特质自身类型">5.特质自身类型</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>自身类型可实现依赖注入的功能</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">val name: <span class="type">String</span>, val age: <span class="type">Int</span></span>)</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Dao</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>(user: <span class="type">User</span>) = &#123;</span><br><span class="line">    println(<span class="string">&quot;insert into database :&quot;</span> + user.name)</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">APP</span> </span>&#123;</span><br><span class="line">  _: <span class="type">Dao</span> =&gt;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">login</span></span>(user: <span class="type">User</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;login :&quot;</span> + user.name)</span><br><span class="line">    insert(user)</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">APP</span> <span class="keyword">with</span> <span class="title">Dao</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    login(<span class="keyword">new</span> <span class="type">User</span>(<span class="string">&quot;bobo&quot;</span>, <span class="number">11</span>))</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">login :bobo</span><br><span class="line">insert into database :bobo</span><br></pre></td></tr></table></figure>
<h3 id="6-特质和抽象类的区别">6.特质和抽象类的区别</h3>
<ul>
<li><strong>优先使用特质：一个类扩展多个特质是很方便的，但却只能扩展一个抽象类</strong></li>
<li><strong>如果你需要构造函数参数，使用抽象类。因为抽象类可以定义<font color=red>带参数</font>的构造函数，而特质不行（有无参构造）</strong></li>
</ul>
<h2 id="扩展">扩展</h2>
<h3 id="1-类型转换和检查">1.类型转换和检查</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>obj.isInstanceOf[T]：判断 obj 是不是T 类型</li>
<li>obj.asInstanceOf[T]：将 obj 强转成 T 类型</li>
<li>classOf 获取对象的类名</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123; </span><br><span class="line">		<span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（1）判断对象是否为某个类型的实例</span></span><br><span class="line">		<span class="keyword">val</span> bool: <span class="type">Boolean</span> = person.isInstanceOf[<span class="type">Person</span>]</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> ( bool ) &#123;</span><br><span class="line">		<span class="comment">//（2）将对象转换为某个类型的实例</span></span><br><span class="line">		<span class="keyword">val</span> p1: <span class="type">Person</span> = person.asInstanceOf[<span class="type">Person</span>] </span><br><span class="line">		println(p1)</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3）获取类的信息</span></span><br><span class="line">		<span class="keyword">val</span> pClass: <span class="type">Class</span>[<span class="type">Person</span>] = classOf[<span class="type">Person</span>] </span><br><span class="line">		println(pClass)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">com.demo.Person@16c0663d</span><br><span class="line">class com.demo.Person</span><br></pre></td></tr></table></figure>
<h3 id="2-枚举类和应用类">2.枚举类和应用类</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>枚举类：需要继承 Enumeration</li>
<li>应用类：需要继承App</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="type">Color</span>.<span class="type">RED</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 枚举类</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Color</span> <span class="keyword">extends</span> <span class="title">Enumeration</span> </span>&#123;</span><br><span class="line">  <span class="keyword">val</span> <span class="type">RED</span> = <span class="type">Value</span>(<span class="number">1</span>, <span class="string">&quot;red&quot;</span>)</span><br><span class="line">  <span class="keyword">val</span> <span class="type">YELLOW</span> = <span class="type">Value</span>(<span class="number">2</span>, <span class="string">&quot;yellow&quot;</span>)</span><br><span class="line">  <span class="keyword">val</span> <span class="type">BLUE</span> = <span class="type">Value</span>(<span class="number">3</span>, <span class="string">&quot;blue&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 应用类</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test20</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  println(<span class="string">&quot;xxxxxxxxxxx&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">red</span><br></pre></td></tr></table></figure>
<h3 id="3-Type定义新类型">3.Type定义新类型</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>使用 type 关键字可以定义新的数据数据类型名称，本质上就是类型的一个别名</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123; <span class="class"><span class="keyword">type</span> <span class="title">S=String</span></span></span><br><span class="line">    <span class="keyword">var</span> v:<span class="type">S</span>=<span class="string">&quot;abc&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>():<span class="type">S</span>=<span class="string">&quot;xyz&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="七、集合">七、集合</h1>
<h2 id="集合简介">集合简介</h2>
<ul>
<li><strong>Scala的集合有三大类：序列Seq、集合Set、映射Map，所有的集合都扩展自Iterable特质</strong></li>
<li><strong>对于几乎所有的集合类，Scala 都同时提供了<font color=red>可变</font>和<font color=red>不可变</font>的版本，分别位于以下两个包</strong>
<ul>
<li>不可变集合：scala.collection.immutable</li>
<li>可变集合： scala.collection.mutable</li>
</ul>
</li>
<li><strong>Scala 不可变集合，就是指该集合对象不可修改，每次修改就会返回一个新对象，而<br>
不会对原对象进行修改。类似于 java 中的 String 对象</strong></li>
<li><strong>可变集合，就是这个集合可以直接对原对象进行修改，而不会返回新的对象。类似<br>
于 java 中 StringBuilder 对象</strong></li>
</ul>
<p><strong><font color=red>注：</font>建议在操作集合时，不可变用符号，可变用方法</strong></p>
<h3 id="1-不可变集合继承图">1.不可变集合继承图</h3>
<p><img src="https://img-blog.csdnimg.cn/20210409095846298.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc1ODg3Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<ul>
<li><strong>Set、Map 是 Java 中也有的集合</strong></li>
<li><strong>Seq 是 Java 没有的，我们发现 List 归属到 Seq 了，因此这里的 List 就和 Java 不是同一个概念了</strong></li>
<li><strong>前面的 for 循环有一个 1 to 3，就是 IndexedSeq 下的 Range</strong></li>
<li><strong>String 也是属于 IndexedSeq</strong></li>
<li><strong>经典的数据结构比如 Queue 和 Stack 被归属到 LinearSeq(线性序列)</strong></li>
<li><strong>Scala 中的 Map 体系有一个 SortedMap，说明 Scala 的 Map 可以支持排序</strong></li>
<li><strong>IndexedSeq 和 LinearSeq 的区别：</strong>
<ul>
<li>IndexedSeq 是通过索引来查找和定位，因此速度快，比如 String 就是一个索引集合，通过索引即可定位</li>
<li>LinearSeq 是线型的，即有头尾的概念，这种数据结构一般是通过遍历来查找</li>
</ul>
</li>
</ul>
<h2 id="2-可变集合继承图">2.可变集合继承图</h2>
<p><img src="https://img-blog.csdnimg.cn/20210409100309773.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc1ODg3Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="数组">数组</h2>
<h3 id="1-不可变数组">1.不可变数组</h3>
<ul>
<li><strong>定义数组（方式一）</strong>
<ul>
<li>new 是关键字</li>
<li>[Int]是指定可以存放的数据类型，如果希望存放任意数据类型，则指定 Any</li>
<li>(10)，表示数组的大小，确定后就不可以变化</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> arr1 = <span class="keyword">new</span> <span class="type">Array</span>[<span class="type">Int</span>](<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestArray</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//（1）数组定义</span></span><br><span class="line">		<span class="keyword">val</span> arr01 = <span class="keyword">new</span> <span class="type">Array</span>[<span class="type">Int</span>](<span class="number">4</span>)</span><br><span class="line">		println(arr01.length) <span class="comment">// 4</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2）数组赋值</span></span><br><span class="line">		<span class="comment">//（2.1）修改某个元素的值</span></span><br><span class="line">		arr01(<span class="number">3</span>) = <span class="number">10</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2.2）采用方法的形式给数组赋值</span></span><br><span class="line">		arr01.update(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3）遍历数组</span></span><br><span class="line">		<span class="comment">//（3.1）查看数组</span></span><br><span class="line">		println(arr01.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3.2）普通遍历</span></span><br><span class="line">		<span class="keyword">for</span> (i &lt;- arr01) &#123;</span><br><span class="line">		println(i)</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3.3）简化遍历</span></span><br><span class="line">		<span class="function"><span class="keyword">def</span> <span class="title">printx</span></span>(elem:<span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">		println(elem)</span><br><span class="line">		&#125;</span><br><span class="line">		arr01.foreach(printx)</span><br><span class="line">		<span class="comment">// arr01.foreach((x)=&gt;&#123;println(x)&#125;)</span></span><br><span class="line">		<span class="comment">// arr01.foreach(println(_))</span></span><br><span class="line">		arr01.foreach(println)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（4）增加元素（由于创建的是不可变数组，增加元素，其实是产生新的数组）</span></span><br><span class="line">		println(arr01)</span><br><span class="line">		<span class="keyword">val</span> ints: <span class="type">Array</span>[<span class="type">Int</span>] = arr01 :+ <span class="number">5</span></span><br><span class="line">		println(ints)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">1,0,0,10</span><br><span class="line">1</span><br><span class="line">0</span><br><span class="line">0</span><br><span class="line">10</span><br><span class="line">1</span><br><span class="line">0</span><br><span class="line">0</span><br><span class="line">10</span><br><span class="line">1</span><br><span class="line">0</span><br><span class="line">0</span><br><span class="line">10</span><br><span class="line">[I@1cd072a9</span><br><span class="line">[I@2812cbfa</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>定义数组（方式二）</strong>
<ul>
<li>在定义数组时，直接赋初始值</li>
<li>使用 apply 方法创建数组对象</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestArray</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="keyword">var</span> arr02 = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="string">&quot;bobo&quot;</span>)</span><br><span class="line">		println(arr02.length)</span><br><span class="line">		<span class="keyword">for</span> (i &lt;- arr02) &#123;</span><br><span class="line">			println(i)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1</span><br><span class="line">3</span><br><span class="line">bobo</span><br></pre></td></tr></table></figure>
<h3 id="2-可变数组">2.可变数组</h3>
<ul>
<li><strong>定义可变数组</strong>
<ul>
<li>[Any]存放任意数据类型</li>
<li>(3, 2, 5)初始化好的三个元素</li>
<li>ArrayBuffer 需要引入 scala.collection.mutable.ArrayBuffer</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> arr01 = <span class="type">ArrayBuffer</span>[<span class="type">Any</span>](<span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>演示</strong>
<ul>
<li>ArrayBuffer 是有序的集合</li>
<li>增加元素使用的是 append 方法()，支持可变参数</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestArrayBuffer</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//（1）创建并初始赋值可变数组</span></span><br><span class="line">		<span class="keyword">val</span> arr01 = <span class="type">ArrayBuffer</span>[<span class="type">Any</span>](<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2）遍历数组</span></span><br><span class="line">		<span class="keyword">for</span> (i &lt;- arr01) &#123;</span><br><span class="line">			println(i)</span><br><span class="line">		&#125;</span><br><span class="line">		println(arr01.length) <span class="comment">// 3</span></span><br><span class="line">		println(<span class="string">&quot;arr01.hash=&quot;</span> + arr01.hashCode())</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3）增加元素</span></span><br><span class="line">		<span class="comment">//（3.1）追加数据</span></span><br><span class="line">		arr01.+=(<span class="number">4</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3.2）向数组最后追加数据</span></span><br><span class="line">		arr01.append(<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3.3）向指定的位置插入数据</span></span><br><span class="line">		arr01.insert(<span class="number">0</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">		println(<span class="string">&quot;arr01.hash=&quot;</span> + arr01.hashCode())</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（4）修改元素</span></span><br><span class="line">		arr01(<span class="number">1</span>) = <span class="number">9</span> <span class="comment">//修改第 2 个元素的值</span></span><br><span class="line">		println(<span class="string">&quot;--------------------------&quot;</span>)</span><br><span class="line">		<span class="keyword">for</span> (i &lt;- arr01) &#123;</span><br><span class="line">			println(i)</span><br><span class="line">		&#125;</span><br><span class="line">		println(arr01.length) <span class="comment">// 5</span></span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">arr01.hash=387518613</span><br><span class="line">arr01.hash=-253706129</span><br><span class="line">--------------------------</span><br><span class="line">7</span><br><span class="line">9</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">8</span><br></pre></td></tr></table></figure>
<h3 id="3-不可变数组与可变数组的转换">3.不可变数组与可变数组的转换</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>arr2.toArray 返回结果才是一个不可变数组，arr2 本身没有变化</li>
<li>arr1.toBuffer 返回结果才是一个可变数组，arr1 本身没有变化</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr1.toBuffer <span class="comment">//不可变数组转可变数组</span></span><br><span class="line">arr2.toArray <span class="comment">//可变数组转不可变数组</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestArrayBuffer</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//（1）创建一个空的可变数组</span></span><br><span class="line">		<span class="keyword">val</span> arr2 = <span class="type">ArrayBuffer</span>[<span class="type">Int</span>]()</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2）追加值</span></span><br><span class="line">		arr2.append(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">		println(arr2) <span class="comment">// 1,2,3</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3）ArrayBuffer ==&gt; Array</span></span><br><span class="line">		<span class="comment">//（3.1）arr2.toArray 返回的结果是一个新的定长数组集合</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3.2）arr2 它没有变化</span></span><br><span class="line">		<span class="keyword">val</span> newArr = arr2.toArray</span><br><span class="line">		println(newArr)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（4）Array ===&gt; ArrayBuffer</span></span><br><span class="line">		<span class="comment">//（4.1）newArr.toBuffer 返回一个变长数组 newArr2</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（4.2）newArr 没有任何变化，依然是定长数组</span></span><br><span class="line">		<span class="keyword">val</span> newArr2 = newArr.toBuffer</span><br><span class="line">		newArr2.append(<span class="number">123</span>)</span><br><span class="line">		println(newArr2)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ArrayBuffer(1, 2, 3)</span><br><span class="line">[I@6e8dacdf</span><br><span class="line">ArrayBuffer(1, 2, 3, 123)</span><br></pre></td></tr></table></figure>
<h3 id="4-多维数组">4.多维数组</h3>
<ul>
<li><strong>定义</strong>
<ul>
<li>二维数组中有三个一维数组，每个一维数组中有四个元素</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> arr = <span class="type">Array</span>.ofDim[<span class="type">Double</span>](<span class="number">3</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DimArray</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;	</span><br><span class="line">		<span class="comment">//（1）创建了一个二维数组, 有三个元素，每个元素是，含有 4 个元素一维数组()</span></span><br><span class="line">		<span class="keyword">val</span> arr = <span class="type">Array</span>.ofDim[<span class="type">Int</span>](<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">		arr(<span class="number">1</span>)(<span class="number">2</span>) = <span class="number">88</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2）遍历二维数组</span></span><br><span class="line">		<span class="keyword">for</span> (i &lt;- arr) &#123; <span class="comment">//i 就是一维数组</span></span><br><span class="line">			<span class="keyword">for</span> (j &lt;- i) &#123;</span><br><span class="line">				print(j + <span class="string">&quot; &quot;</span>)</span><br><span class="line">			&#125;</span><br><span class="line">			println()</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0 0 0 0 </span><br><span class="line">0 0 88 0 </span><br><span class="line">0 0 0 0 </span><br></pre></td></tr></table></figure>
<h2 id="列表List">列表List</h2>
<h3 id="1-不可变List">1.不可变List</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>List 默认为不可变集合</li>
<li>数据有顺序，可重复</li>
<li>集合间合并：将一个整体拆成一个一个的个体，称为扁平化</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestList</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">//List 默认为不可变集合</span></span><br><span class="line">		<span class="comment">//创建一个 List（数据有顺序，可重复）</span></span><br><span class="line">		<span class="keyword">val</span> list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//空集合 Nil</span></span><br><span class="line">		<span class="keyword">val</span> list5 = <span class="number">1</span>::<span class="number">2</span>::<span class="number">3</span>::<span class="number">4</span>::<span class="type">Nil</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//List 增加数据</span></span><br><span class="line">		<span class="comment">//（1）::的运算规则从右向左</span></span><br><span class="line">		<span class="comment">//val list1 = 5::list</span></span><br><span class="line">		<span class="keyword">val</span> list1 = <span class="number">7</span>::<span class="number">6</span>::<span class="number">5</span>::list</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2）添加到第一个元素位置</span></span><br><span class="line">		<span class="keyword">val</span> list2 = list.+:(<span class="number">5</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//集合间合并：将一个整体拆成一个一个的个体，称为扁平化</span></span><br><span class="line">		<span class="keyword">val</span> list3 = <span class="type">List</span>(<span class="number">8</span>,<span class="number">9</span>)</span><br><span class="line">		<span class="comment">//val list4 = list3::list1</span></span><br><span class="line">		<span class="keyword">val</span> list4 = list3:::list1</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//取指定数据</span></span><br><span class="line">		println(list(<span class="number">0</span>))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//遍历 List</span></span><br><span class="line">		<span class="comment">//list.foreach(println)</span></span><br><span class="line">		<span class="comment">//list1.foreach(println)</span></span><br><span class="line">		<span class="comment">//list3.foreach(println)</span></span><br><span class="line">		<span class="comment">//list4.foreach(println)</span></span><br><span class="line">		list5.foreach(println)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure>
<h3 id="2-可变ListBuffer">2.可变ListBuffer</h3>
<ul>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ListBuffer</span></span><br><span class="line">																														<span class="class"><span class="keyword">object</span> <span class="title">TestList</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">//（1）创建一个可变集合</span></span><br><span class="line">		<span class="keyword">val</span> buffer = <span class="type">ListBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2）向集合中添加数据</span></span><br><span class="line">		buffer.+=(<span class="number">5</span>)</span><br><span class="line">		buffer.append(<span class="number">6</span>)</span><br><span class="line">		buffer.insert(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3）打印集合数据</span></span><br><span class="line">		buffer.foreach(println)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（4）修改数据</span></span><br><span class="line">		buffer(<span class="number">1</span>) = <span class="number">6</span></span><br><span class="line">		buffer.update(<span class="number">1</span>,<span class="number">7</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（5）删除数据</span></span><br><span class="line">		buffer.-(<span class="number">5</span>)</span><br><span class="line">		buffer.-=(<span class="number">5</span>)</span><br><span class="line">		buffer.remove(<span class="number">5</span>)</span><br><span class="line">	&#125;																																																</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td></tr></table></figure>
<h2 id="Set集合">Set集合</h2>
<p><strong>默认情况下，Scala 使用的是不可变集合，如果要使用可变集合，需要引用scala.collection.mutable.Set 包</strong></p>
<h3 id="1-不可变Set">1.不可变Set</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>Set 默认是不可变集合，数据无序</li>
<li>数据不可重复</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestSet</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">//（1）Set 默认是不可变集合，数据无序</span></span><br><span class="line">		<span class="keyword">val</span> set = <span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2）数据不可重复</span></span><br><span class="line">		<span class="keyword">val</span> set1 = <span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3）遍历集合</span></span><br><span class="line">		<span class="keyword">for</span>(x&lt;-set1)&#123;</span><br><span class="line">			println(x)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">1</span><br><span class="line">6</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure>
<h3 id="2-可变-mutable-Set">2.可变 mutable.Set</h3>
<ul>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestSet</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">//（1）创建可变集合</span></span><br><span class="line">		<span class="keyword">val</span> set = mutable.<span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2）集合添加元素</span></span><br><span class="line">		set += <span class="number">8</span></span><br><span class="line">		<span class="comment">//（3）向集合中添加元素，返回一个新的 Set</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">val</span> ints = set.+(<span class="number">9</span>)</span><br><span class="line">		println(ints)</span><br><span class="line">		println(<span class="string">&quot;set2=&quot;</span> + set)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（4）删除数据</span></span><br><span class="line">		set-=(<span class="number">5</span>)</span><br><span class="line">		</span><br><span class="line">		set.foreach(println)</span><br><span class="line">		println(set.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Set(9, 1, 5, 2, 6, 3, 4, 8)</span><br><span class="line">set2=Set(1, 5, 2, 6, 3, 4, 8)</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">6</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">8</span><br><span class="line">1,2,6,3,4,8</span><br></pre></td></tr></table></figure>
<h2 id="Map集合">Map集合</h2>
<p><strong>Scala 中的 Map 和 Java 类似，也是一个散列表，它存储的内容也是键值对（key-value）映射</strong></p>
<h3 id="1-不可变Map">1.不可变Map</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>如果 key 不存在，返回 0</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMap</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//创建不可变集合 Map</span></span><br><span class="line">		<span class="keyword">val</span> map = <span class="type">Map</span>( <span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>, <span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>, <span class="string">&quot;c&quot;</span>-&gt;<span class="number">3</span> )</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//访问数据</span></span><br><span class="line">		<span class="keyword">for</span> (elem &lt;- map.keys) &#123;</span><br><span class="line">			<span class="comment">// 使用 get 访问 map 集合的数据，会返回特殊类型 Option(选项):有值（Some），无值(None)</span></span><br><span class="line">			println(elem + <span class="string">&quot;=&quot;</span> + map.get(elem).get)</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//如果 key 不存在，返回 0</span></span><br><span class="line">		println(map.get(<span class="string">&quot;d&quot;</span>).getOrElse(<span class="number">0</span>))</span><br><span class="line">		println(map.getOrElse(<span class="string">&quot;d&quot;</span>, <span class="number">0</span>))</span><br><span class="line">		</span><br><span class="line">		map.foreach((kv)=&gt;&#123;println(kv)&#125;)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=1</span><br><span class="line">b=2</span><br><span class="line">c=3</span><br><span class="line">0</span><br><span class="line">0</span><br><span class="line">(a,1)</span><br><span class="line">(b,2)</span><br><span class="line">(c,3)</span><br></pre></td></tr></table></figure>
<h3 id="2-可变Map">2.可变Map</h3>
<ul>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestSet</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//创建可变集合</span></span><br><span class="line">		<span class="keyword">val</span> map = mutable.<span class="type">Map</span>( <span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>, <span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>, <span class="string">&quot;c&quot;</span>-&gt;<span class="number">3</span> )</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//向集合增加数据</span></span><br><span class="line">		map.+=(<span class="string">&quot;d&quot;</span>-&gt;<span class="number">4</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 将数值 4 添加到集合，并把集合中原值 1 返回</span></span><br><span class="line">		<span class="keyword">val</span> maybeInt: <span class="type">Option</span>[<span class="type">Int</span>] = map.put(<span class="string">&quot;a&quot;</span>, <span class="number">4</span>)</span><br><span class="line">		println(maybeInt.getOrElse(<span class="number">0</span>))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//删除数据</span></span><br><span class="line">		map.-=(<span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//修改数据</span></span><br><span class="line">		map.update(<span class="string">&quot;d&quot;</span>,<span class="number">5</span>)</span><br><span class="line">		map(<span class="string">&quot;d&quot;</span>) = <span class="number">5</span></span><br><span class="line">		</span><br><span class="line">		map.foreach((kv)=&gt;&#123;println(kv)&#125;)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">(d,5)</span><br><span class="line">(a,4)</span><br></pre></td></tr></table></figure>
<h2 id="元组">元组</h2>
<ul>
<li><strong>说明</strong>
<ul>
<li>元组也是可以理解为一个容器，可以存放各种相同或不同类型的数据。说的简单点，就是将多个无关的数据封装为一个整体，称为元组</li>
</ul>
</li>
<li><strong>演示</strong>
<ul>
<li>Map 中的键值对其实就是元组,只不过元组的元素个数为 2，称之为对偶</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestTuple</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//（1）声明元组的方式：(元素 1，元素 2，元素 3)</span></span><br><span class="line">		<span class="keyword">val</span> tuple: (<span class="type">Int</span>, <span class="type">String</span>, <span class="type">Boolean</span>) = (<span class="number">40</span>,<span class="string">&quot;bobo&quot;</span>,<span class="literal">true</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2）访问元组</span></span><br><span class="line">		<span class="comment">//（2.1）通过元素的顺序进行访问，调用方式：_顺序号</span></span><br><span class="line">		println(tuple._1)</span><br><span class="line">		println(tuple._2)</span><br><span class="line">		println(tuple._3)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2.2）通过索引访问数据</span></span><br><span class="line">		println(tuple.productElement(<span class="number">0</span>))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2.3）通过迭代器访问数据</span></span><br><span class="line">		<span class="keyword">for</span> (elem &lt;- tuple.productIterator) &#123;</span><br><span class="line">		println(elem)</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3）Map 中的键值对其实就是元组,只不过元组的元素个数为 2，称之为对偶</span></span><br><span class="line">		<span class="keyword">val</span> map = <span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>, <span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>, <span class="string">&quot;c&quot;</span>-&gt;<span class="number">3</span>)</span><br><span class="line">		<span class="keyword">val</span> map1 = <span class="type">Map</span>((<span class="string">&quot;a&quot;</span>,<span class="number">1</span>), (<span class="string">&quot;b&quot;</span>,<span class="number">2</span>), (<span class="string">&quot;c&quot;</span>,<span class="number">3</span>))</span><br><span class="line">		map.foreach(tuple=&gt;&#123;println(tuple._1 + <span class="string">&quot;=&quot;</span> + tuple._2)&#125;)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">40</span><br><span class="line">bobo</span><br><span class="line">true</span><br><span class="line">40</span><br><span class="line">40</span><br><span class="line">bobo</span><br><span class="line">true</span><br><span class="line">a=1</span><br><span class="line">b=2</span><br><span class="line">c=3</span><br></pre></td></tr></table></figure>
<h2 id="集合常用函数">集合常用函数</h2>
<h3 id="1-基本属性和常用操作">1.基本属性和常用操作</h3>
<ul>
<li><strong>需求</strong>
<ul>
<li>获取集合长度</li>
<li>获取集合大小</li>
<li>循环遍历</li>
<li>迭代器</li>
<li>生成字符串</li>
<li>是否包含</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestList</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">val</span> list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（1）获取集合长度</span></span><br><span class="line">		println(list.length)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（2）获取集合大小,等同于 length</span></span><br><span class="line">		println(list.size)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（3）循环遍历</span></span><br><span class="line">		list.foreach(println)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（4）迭代器</span></span><br><span class="line">		<span class="keyword">for</span> (elem &lt;- list.itera tor) &#123;</span><br><span class="line">		println(elem)</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（5）生成字符串</span></span><br><span class="line">		println(list.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//（6）是否包含</span></span><br><span class="line">		println(list.contains(<span class="number">3</span>))</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-衍生集合">2.衍生集合</h3>
<ul>
<li><strong>需求</strong>
<ul>
<li>获取集合的头</li>
<li>获取集合的尾（不是头的就是尾）</li>
<li>集合最后一个数据</li>
<li>集合初始数据（不包含最后一个）</li>
<li>反转</li>
<li>取前（后）n 个元素</li>
<li>去掉前（后）n 个元素</li>
<li>并集</li>
<li>交集</li>
<li>差集</li>
<li>拉链</li>
<li>滑窗</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestList</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">val</span> list1: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)</span><br><span class="line">		<span class="keyword">val</span> list2: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//获取集合的头</span></span><br><span class="line">		println(list1.head)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//获取集合的尾（不是头的就是尾）</span></span><br><span class="line">		println(list1.tail)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//集合最后一个数据</span></span><br><span class="line">		println(list1.last)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//集合初始数据（不包含最后一个）</span></span><br><span class="line">		println(list1.init)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//反转</span></span><br><span class="line">		println(list1.reverse)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//取前（后）n 个元素</span></span><br><span class="line">		println(list1.take(<span class="number">3</span>))</span><br><span class="line">		println(list1.takeRight(<span class="number">3</span>))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//去掉前（后）n 个元素</span></span><br><span class="line">		println(list1.drop(<span class="number">3</span>))</span><br><span class="line">		println(list1.dropRight(<span class="number">3</span>))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//并集</span></span><br><span class="line">		println(list1.union(list2))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//交集</span></span><br><span class="line">		println(list1.intersect(list2))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//差集</span></span><br><span class="line">		println(list1.diff(list2))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//拉链 注:如果两个集合的元素个数不相等，那么会将同等数量的数据进行拉链，多余的数据省略不用</span></span><br><span class="line">		println(list1.zip(list2))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//滑窗</span></span><br><span class="line">		list1.sliding(<span class="number">2</span>, <span class="number">5</span>).foreach(println)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">List(2, 3, 4, 5, 6, 7)</span><br><span class="line">7</span><br><span class="line">List(1, 2, 3, 4, 5, 6)</span><br><span class="line">List(7, 6, 5, 4, 3, 2, 1)</span><br><span class="line">List(1, 2, 3)</span><br><span class="line">List(5, 6, 7)</span><br><span class="line">List(4, 5, 6, 7)</span><br><span class="line">List(1, 2, 3, 4)</span><br><span class="line">List(1, 2, 3, 4, 5, 6, 7, 4, 5, 6, 7, 8, 9, 10)</span><br><span class="line">List(4, 5, 6, 7)</span><br><span class="line">List(1, 2, 3)</span><br><span class="line">List((1,4), (2,5), (3,6), (4,7), (5,8), (6,9), (7,10))</span><br><span class="line">List(1, 2)</span><br><span class="line">List(6, 7)</span><br></pre></td></tr></table></figure>
<h3 id="3-集合计算简单函数">3.集合计算简单函数</h3>
<ul>
<li><strong>需求</strong>
<ul>
<li>求和</li>
<li>求乘积</li>
<li>最大值</li>
<li>最小值</li>
<li>排序</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestList</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">val</span> list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">5</span>, <span class="number">-3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">-7</span>, <span class="number">6</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//求和</span></span><br><span class="line">		println(list.sum)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//求乘积</span></span><br><span class="line">		println(list.product)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//最大值</span></span><br><span class="line">		println(list.max)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//最小值</span></span><br><span class="line">		println(list.min)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//排序</span></span><br><span class="line">		<span class="comment">// （1）按照元素大小排序</span></span><br><span class="line">		println(list.sortBy(x =&gt; x))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// （2）按照元素的绝对值大小排序</span></span><br><span class="line">		println(list.sortBy(x =&gt; x.abs))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// （3）按元素大小升序排序</span></span><br><span class="line">		println(list.sortWith((x, y) =&gt; x &lt; y))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// （4）按元素大小降序排序</span></span><br><span class="line">		println(list.sortWith((x, y) =&gt; x &gt; y))</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">8</span><br><span class="line">5040</span><br><span class="line">6</span><br><span class="line">-7</span><br><span class="line">List(-7, -3, 1, 2, 4, 5, 6)</span><br><span class="line">List(1, 2, -3, 4, 5, 6, -7)</span><br><span class="line">List(-7, -3, 1, 2, 4, 5, 6)</span><br><span class="line">List(6, 5, 4, 2, 1, -3, -7)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>sorted</strong>
<ul>
<li>对一个集合进行自然排序，通过传递隐式的 Ordering</li>
</ul>
</li>
<li><strong>sortBy</strong>
<ul>
<li>对一个属性或多个属性进行排序，通过它的类型</li>
</ul>
</li>
<li><strong>sortWith</strong>
<ul>
<li>基于函数的排序，通过一个 comparator 函数，实现自定义排序的逻辑</li>
</ul>
</li>
</ul>
<h3 id="4-集合计算高级函数">4.集合计算高级函数</h3>
<ul>
<li><strong>需求</strong>
<ul>
<li>过滤
<ul>
<li>遍历一个集合并从中获取满足指定条件的元素组成一个新的集合</li>
</ul>
</li>
<li>转化/映射（map）
<ul>
<li>将集合中的每一个元素映射到某一个函数</li>
</ul>
</li>
<li>扁平化</li>
<li>扁平化+映射 （flatMap 相当于先进行 map 操作，在进行 flatten 操作集合中的每个元素的子元素映射到某个函数并返回新集合）</li>
<li>分组(group)
<ul>
<li>按照指定的规则对集合的元素进行分组</li>
</ul>
</li>
<li>简化（归约）</li>
<li>折叠</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestList</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">val</span> list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>)</span><br><span class="line">		<span class="keyword">val</span> nestedList: <span class="type">List</span>[<span class="type">List</span>[<span class="type">Int</span>]] = <span class="type">List</span>(<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), <span class="type">List</span>(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>), <span class="type">List</span>(<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>))</span><br><span class="line">		<span class="keyword">val</span> wordList: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="string">&quot;hello world&quot;</span>, <span class="string">&quot;hello atguigu&quot;</span>, <span class="string">&quot;hello scala&quot;</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//过滤</span></span><br><span class="line">		println(list.filter(x =&gt; x % <span class="number">2</span> == <span class="number">0</span>))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//转化/映射</span></span><br><span class="line">		println(list.map(x =&gt; x + <span class="number">1</span>))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//扁平化</span></span><br><span class="line">		println(nestedList.flatten)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//扁平化+映射 注：flatMap 相当于先进行 map 操作，在进行 flatten操作</span></span><br><span class="line">		println(wordList.flatMap(x =&gt; x.split(<span class="string">&quot; &quot;</span>)))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//分组</span></span><br><span class="line">		println(list.groupBy(x =&gt; x % <span class="number">2</span>))</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List(2, 4, 6, 8)</span><br><span class="line">List(2, 3, 4, 5, 6, 7, 8, 9, 10)</span><br><span class="line">List(1, 2, 3, 4, 5, 6, 7, 8, 9)</span><br><span class="line">List(hello, world, hello, atguigu, hello, scala)</span><br><span class="line">Map(1 -&gt; List(1, 3, 5, 7, 9), 0 -&gt; List(2, 4, 6, 8))</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Reduce 方法</strong>
<ul>
<li>Reduce 简化（归约） ：通过指定的逻辑将集合中的数据进行聚合，从而减少数据，最终获取结果</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestReduce</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 将数据两两结合，实现运算规则</span></span><br><span class="line">		<span class="keyword">val</span> i: <span class="type">Int</span> = list.reduce( (x,y) =&gt; x-y )</span><br><span class="line">		println(<span class="string">&quot;i = &quot;</span> + i)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 从源码的角度，reduce 底层调用的其实就是 reduceLeft</span></span><br><span class="line">		<span class="comment">//val i1 = list.reduceLeft((x,y) =&gt; x-y)</span></span><br><span class="line">		<span class="comment">// ((4-3)-2-1) = -2</span></span><br><span class="line">		<span class="keyword">val</span> i2 = list.reduceRight((x,y) =&gt; x-y)</span><br><span class="line">		println(i2)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i = -8</span><br><span class="line">-2</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Fold 方法</strong>
<ul>
<li>Fold 折叠：化简的一种特殊情况</li>
</ul>
</li>
<li><strong>演示1</strong>
<ul>
<li>fold 基本使用</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestFold</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// fold 方法使用了函数柯里化，存在两个参数列表</span></span><br><span class="line">		<span class="comment">// 第一个参数列表为 ： 零值（初始值）</span></span><br><span class="line">		<span class="comment">// 第二个参数列表为： 简化规则</span></span><br><span class="line">		<span class="comment">// fold 底层其实为 foldLeft</span></span><br><span class="line">		<span class="keyword">val</span> i = list.foldLeft(<span class="number">1</span>)((x,y)=&gt;x-y)</span><br><span class="line">		<span class="keyword">val</span> i1 = list.foldRight(<span class="number">10</span>)((x,y)=&gt;x-y)</span><br><span class="line">		println(i)</span><br><span class="line">		println(i1)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-9</span><br><span class="line">8</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>演示2</strong>
<ul>
<li>两个集合合并</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestFold</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">// 两个 Map 的数据合并</span></span><br><span class="line">		<span class="keyword">val</span> map1 = mutable.<span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>, <span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>, <span class="string">&quot;c&quot;</span>-&gt;<span class="number">3</span>)</span><br><span class="line">		<span class="keyword">val</span> map2 = mutable.<span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">4</span>, <span class="string">&quot;b&quot;</span>-&gt;<span class="number">5</span>, <span class="string">&quot;d&quot;</span>-&gt;<span class="number">6</span>)</span><br><span class="line">		<span class="keyword">val</span> map3: mutable.<span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = map2.foldLeft(map1) &#123;</span><br><span class="line">			(map, kv) =&gt; &#123;</span><br><span class="line">				<span class="keyword">val</span> k = kv._1</span><br><span class="line">				<span class="keyword">val</span> v = kv._2</span><br><span class="line">				map(k) = map.getOrElse(k, <span class="number">0</span>) + v</span><br><span class="line">				map</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		println(map3)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map(b -&gt; 7, d -&gt; 6, a -&gt; 5, c -&gt; 3)</span><br></pre></td></tr></table></figure>
<h3 id="5-普通wordcount案例">5.普通wordcount案例</h3>
<ul>
<li><strong>需求</strong>
<ul>
<li>单词计数：将集合中出现的相同的单词，进行计数，取计数排名前三的结果</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestWordCount</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">// 单词计数：将集合中出现的相同的单词，进行计数，取计数排名前三的结果</span></span><br><span class="line">		<span class="keyword">val</span> stringList = <span class="type">List</span>(<span class="string">&quot;Hello Scala Hbase kafka&quot;</span>, <span class="string">&quot;Hello Scala Hbase&quot;</span>, <span class="string">&quot;Hello Scala&quot;</span>, <span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 1) 将每一个字符串转换成一个一个单词</span></span><br><span class="line">		<span class="keyword">val</span> wordList: <span class="type">List</span>[<span class="type">String</span>] = stringList.flatMap(str=&gt;str.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">		<span class="comment">//println(wordList)</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 2) 将相同的单词放置在一起</span></span><br><span class="line">		<span class="keyword">val</span> wordToWordsMap: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">List</span>[<span class="type">String</span>]] = wordList.groupBy(word=&gt;word)</span><br><span class="line">		<span class="comment">//println(wordToWordsMap)</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 3) 对相同的单词进行计数</span></span><br><span class="line">		<span class="comment">// (word, list) =&gt; (word, count)</span></span><br><span class="line">		<span class="keyword">val</span> wordToCountMap: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = wordToWordsMap.map(tuple=&gt;(tuple._1, tuple._2.size))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 4) 对计数完成后的结果进行排序（降序）</span></span><br><span class="line">		<span class="keyword">val</span> sortList: <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = wordToCountMap.toList.sortWith &#123;</span><br><span class="line">			(left, right) =&gt; &#123;</span><br><span class="line">				left._2 &gt; right._2</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 5) 对排序后的结果取前 3 名</span></span><br><span class="line">		<span class="keyword">val</span> resultList: <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = sortList.take(<span class="number">3</span>)</span><br><span class="line">		println(resultList)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List((Hello,4), (Scala,3), (Hbase,2))</span><br></pre></td></tr></table></figure>
<h3 id="6-复杂wordcount案例">6.复杂wordcount案例</h3>
<ul>
<li><strong>方式一（不通用）</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestWordCount</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">val</span> tupleList = <span class="type">List</span>((<span class="string">&quot;Hello Scala Spark World &quot;</span>, <span class="number">4</span>), (<span class="string">&quot;Hello Scala Spark&quot;</span>, <span class="number">3</span>), (<span class="string">&quot;Hello Scala&quot;</span>, <span class="number">2</span>), (<span class="string">&quot;Hello&quot;</span>, <span class="number">1</span>))</span><br><span class="line">		<span class="keyword">val</span> stringList: <span class="type">List</span>[<span class="type">String</span>] = tupleList.map(t=&gt;(t._1 + <span class="string">&quot; &quot;</span>) * t._2)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//val words: List[String] = stringList.flatMap(s=&gt;s.split(&quot; &quot;))</span></span><br><span class="line">		<span class="keyword">val</span> words: <span class="type">List</span>[<span class="type">String</span>] = stringList.flatMap(_.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//在 map 中，如果传进来什么就返回什么，不要用_省略</span></span><br><span class="line">		<span class="keyword">val</span> groupMap: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">List</span>[<span class="type">String</span>]] = words.groupBy(word=&gt;word)</span><br><span class="line">		<span class="comment">//val groupMap: Map[String, List[String]] = words.groupBy(_)</span></span><br><span class="line">		<span class="comment">// (word, list) =&gt; (word, count)</span></span><br><span class="line">		<span class="keyword">val</span> wordToCount: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = groupMap.map(t=&gt;(t._1, t._2.size))</span><br><span class="line">		<span class="keyword">val</span> wordCountList: <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = wordToCount.toList.sortWith &#123;</span><br><span class="line">			(left, right) =&gt; &#123;</span><br><span class="line">				left._2 &gt; right._2</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;.take(<span class="number">3</span>)</span><br><span class="line">		<span class="comment">//tupleList.map(t=&gt;(t._1 + &quot; &quot;) * t._2).flatMap(_.split(&quot; &quot;)).groupBy(word=&gt;word).map(t=&gt;(t._1, t._2.size))</span></span><br><span class="line">		println(wordCountList)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List((Hello,10), (Scala,9), (Spark,7))</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>方式二</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestWordCount</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="keyword">val</span> tuples = <span class="type">List</span>((<span class="string">&quot;Hello Scala Spark World&quot;</span>, <span class="number">4</span>), (<span class="string">&quot;Hello Scala Spark&quot;</span>, <span class="number">3</span>), (<span class="string">&quot;Hello Scala&quot;</span>, <span class="number">2</span>), (<span class="string">&quot;Hello&quot;</span>, <span class="number">1</span>))</span><br><span class="line">		<span class="comment">// (Hello,4),(Scala,4),(Spark,4),(World,4)</span></span><br><span class="line">		<span class="comment">// (Hello,3),(Scala,3),(Spark,3)</span></span><br><span class="line">		<span class="comment">// (Hello,2),(Scala,2)</span></span><br><span class="line">		<span class="comment">// (Hello,1)</span></span><br><span class="line">		<span class="keyword">val</span> wordToCountList: <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = tuples.flatMap &#123;</span><br><span class="line">			t =&gt; &#123;</span><br><span class="line">				<span class="keyword">val</span> strings: <span class="type">Array</span>[<span class="type">String</span>] = t._1.split(<span class="string">&quot; &quot;</span>)</span><br><span class="line">				strings.map(word =&gt; (word, t._2))</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// Hello, List((Hello,4), (Hello,3), (Hello,2), (Hello,1))</span></span><br><span class="line">		<span class="comment">// Scala, List((Scala,4), (Scala,3), (Scala,2)</span></span><br><span class="line">		<span class="comment">// Spark, List((Spark,4), (Spark,3)</span></span><br><span class="line">		<span class="comment">// Word, List((Word,4))</span></span><br><span class="line">		<span class="keyword">val</span> wordToTupleMap: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)]] = wordToCountList.groupBy(t=&gt;t._1)</span><br><span class="line">		<span class="keyword">val</span> stringToInts: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">List</span>[<span class="type">Int</span>]] = wordToTupleMap.mapValues &#123;</span><br><span class="line">			datas =&gt; datas.map(t =&gt; t._2)</span><br><span class="line">		&#125;</span><br><span class="line">		stringToInts</span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		val wordToCountMap: Map[String, List[Int]] = wordToTupleMap.map &#123;</span></span><br><span class="line"><span class="comment">			t =&gt; &#123;</span></span><br><span class="line"><span class="comment">				(t._1, t._2.map(t1 =&gt; t1._2))</span></span><br><span class="line"><span class="comment">			&#125;</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		val wordToTotalCountMap: Map[String, Int] = wordToCountMap.map(t=&gt;(t._1, t._2.sum))</span></span><br><span class="line"><span class="comment">		println(wordToTotalCountMap)</span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-队列">8.队列</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>Scala 也提供了队列（Queue）的数据结构，队列的特点就是先进先出。进队和出队的方法分别为 enqueue 和 dequeue</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestQueue</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">val</span> que = <span class="keyword">new</span> mutable.<span class="type">Queue</span>[<span class="type">String</span>]()</span><br><span class="line">		que.enqueue(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>)</span><br><span class="line">		</span><br><span class="line">		println(que.dequeue())</span><br><span class="line">		println(que.dequeue())</span><br><span class="line">		println(que.dequeue())</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br></pre></td></tr></table></figure>
<h3 id="9-并行集合">9.并行集合</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>Scala 为了充分使用<font color=red>多核 CPU</font>，提供了并行集合（有别于前面的串行集合），用于多核环境的并行计算</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestPar</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">val</span> result1 = (<span class="number">0</span> to <span class="number">100</span>).map&#123;</span><br><span class="line">			<span class="keyword">case</span> _ =&gt; <span class="type">Thread</span>.currentThread.getName</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">val</span> result2 = (<span class="number">0</span> to <span class="number">100</span>).par.map&#123;</span><br><span class="line">			<span class="keyword">case</span> _ =&gt; <span class="type">Thread</span>.currentThread.getName</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		println(result1)</span><br><span class="line">		println(result2)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vector(main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main, main)</span><br><span class="line">ParVector(scala-execution-context-global-12, scala-execution-context-global-12, scala-execution-context-global-12, scala-execution-context-global-12, scala-execution-context-global-12, scala-execution-context-global-12, scala-execution-context-global-12, scala-execution-context-global-12, scala-execution-context-global-12, scala-execution-context-global-12, scala-execution-context-global-12, scala-execution-context-global-12, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-17, scala-execution-context-global-17, scala-execution-context-global-17, scala-execution-context-global-17, scala-execution-context-global-17, scala-execution-context-global-17, scala-execution-context-global-16, scala-execution-context-global-16, scala-execution-context-global-16, scala-execution-context-global-16, scala-execution-context-global-16, scala-execution-context-global-16, scala-execution-context-global-16, scala-execution-context-global-13, scala-execution-context-global-13, scala-execution-context-global-13, scala-execution-context-global-13, scala-execution-context-global-13, scala-execution-context-global-13, scala-execution-context-global-13, scala-execution-context-global-13, scala-execution-context-global-13, scala-execution-context-global-13, scala-execution-context-global-13, scala-execution-context-global-13, scala-execution-context-global-17, scala-execution-context-global-17, scala-execution-context-global-17, scala-execution-context-global-14, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-18, scala-execution-context-global-16, scala-execution-context-global-16, scala-execution-context-global-19, scala-execution-context-global-19, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-15, scala-execution-context-global-19, scala-execution-context-global-19, scala-execution-context-global-19, scala-execution-context-global-19, scala-execution-context-global-19, scala-execution-context-global-19, scala-execution-context-global-16, scala-execution-context-global-16, scala-execution-context-global-16, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-14, scala-execution-context-global-14)</span><br></pre></td></tr></table></figure>
<h1 id="八、模式匹配">八、模式匹配</h1>
<p><strong>Scala 中的模式匹配类似于 Java 中的 switch 语法，补充了更多的功能</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span></span><br><span class="line"><span class="keyword">switch</span> (i) &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">10</span> :</span><br><span class="line">		System.out.println(<span class="string">&quot;10&quot;</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">20</span> : </span><br><span class="line">		System.out.println(<span class="string">&quot;20&quot;</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">default</span> : </span><br><span class="line">		System.out.println(<span class="string">&quot;other number&quot;</span>);</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="基本语法">基本语法</h2>
<p><strong>模式匹配语法中，采用 match 关键字声明，每个分支采用 case 关键字进行声明，当需要匹配时，会从第一个 case 分支开始，如果匹配成功，那么执行对应的逻辑代码，如果匹配不成功，继续执行下一个分支进行判断。如果所有 case 都不匹配，那么会执行 case _分支，类似于 Java 中 default 语句</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMatchCase</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">var</span> a: <span class="type">Int</span> = <span class="number">10</span></span><br><span class="line">		<span class="keyword">var</span> b: <span class="type">Int</span> = <span class="number">20</span></span><br><span class="line">		<span class="keyword">var</span> operator: <span class="type">Char</span> = &#x27;d&#x27;</span><br><span class="line">		<span class="keyword">var</span> result = operator <span class="keyword">match</span> &#123;</span><br><span class="line">			<span class="keyword">case</span> &#x27;+&#x27; =&gt; a + b</span><br><span class="line">			<span class="keyword">case</span> &#x27;-&#x27; =&gt; a - b</span><br><span class="line">			<span class="keyword">case</span> &#x27;*&#x27; =&gt; a * b</span><br><span class="line">			<span class="keyword">case</span> &#x27;/&#x27; =&gt; a / b</span><br><span class="line">			<span class="keyword">case</span> _ =&gt; <span class="string">&quot;illegal&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		println(result)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">illegal</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>如果所有 case 都不匹配，那么会执行 case _ 分支，类似于 Java 中 default 语句，若此时没有 case _ 分支，那么会抛出 MatchError</li>
<li>每个 case 中，不需要使用 break 语句，自动中断 case</li>
<li>match case 语句可以匹配任何类型，而不只是字面量</li>
<li>=&gt; 后面的代码块，直到下一个 case 语句之前的代码是<font color=red>作为一个整体执行</font>，可以使用{}括起来，也可以不括</li>
</ul>
</li>
</ul>
<h2 id="模式守卫">模式守卫</h2>
<ul>
<li><strong>说明</strong>
<ul>
<li>如果想要表达匹配某个范围的数据，就需要在模式匹配中增加条件守卫</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMatchGuard</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="function"><span class="keyword">def</span> <span class="title">abs</span></span>(x: <span class="type">Int</span>) = x <span class="keyword">match</span> &#123;</span><br><span class="line">			<span class="keyword">case</span> i: <span class="type">Int</span> <span class="keyword">if</span> i &gt;= <span class="number">0</span> =&gt; i</span><br><span class="line">			<span class="keyword">case</span> j: <span class="type">Int</span> <span class="keyword">if</span> j &lt; <span class="number">0</span> =&gt; -j</span><br><span class="line">			<span class="keyword">case</span> _ =&gt; <span class="string">&quot;type illegal&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">		println(abs(<span class="number">-5</span>))</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure>
<h2 id="模式匹配类型">模式匹配类型</h2>
<h3 id="1-匹配常量">1.匹配常量</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>Scala 中，模式匹配可以匹配所有的字面量，包括字符串，字符，数字，布尔值等等</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMatchVal</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		println(describe(<span class="number">6</span>))</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(x: <span class="type">Any</span>) = x <span class="keyword">match</span> &#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">5</span> =&gt; <span class="string">&quot;Int five&quot;</span></span><br><span class="line">		<span class="keyword">case</span> <span class="string">&quot;hello&quot;</span> =&gt; <span class="string">&quot;String hello&quot;</span></span><br><span class="line">		<span class="keyword">case</span> <span class="literal">true</span> =&gt; <span class="string">&quot;Boolean true&quot;</span></span><br><span class="line">		<span class="keyword">case</span> &#x27;+&#x27; =&gt; <span class="string">&quot;Char +&quot;</span></span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String hello</span><br></pre></td></tr></table></figure>
<h3 id="2-匹配类型">2.匹配类型</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>需要进行类型判断时，可以使用前文所学的 isInstanceOf[T]和 asInstanceOf[T]，也可使用模式匹配实现同样的功能</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMatchClass</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(x: <span class="type">Any</span>) = x <span class="keyword">match</span> &#123;</span><br><span class="line">		<span class="keyword">case</span> i: <span class="type">Int</span> =&gt; <span class="string">&quot;Int&quot;</span></span><br><span class="line">		<span class="keyword">case</span> s: <span class="type">String</span> =&gt; <span class="string">&quot;String hello&quot;</span></span><br><span class="line">		<span class="keyword">case</span> m: <span class="type">List</span>[_] =&gt; <span class="string">&quot;List&quot;</span></span><br><span class="line">		<span class="keyword">case</span> c: <span class="type">Array</span>[<span class="type">Int</span>] =&gt; <span class="string">&quot;Array[Int]&quot;</span></span><br><span class="line">		<span class="keyword">case</span> someThing =&gt; <span class="string">&quot;something else &quot;</span> + someThing</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">//泛型擦除</span></span><br><span class="line">		println(describe(<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)))</span><br><span class="line">		<span class="comment">//数组例外，可保留泛型</span></span><br><span class="line">		println(describe(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)))</span><br><span class="line">		println(describe(<span class="type">Array</span>(<span class="string">&quot;abc&quot;</span>)))</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List</span><br><span class="line">Array[Int]</span><br><span class="line">something else [Ljava.lang.String;@7cf10a6f</span><br></pre></td></tr></table></figure>
<h3 id="3-匹配数组">3.匹配数组</h3>
<ul>
<li><strong>说明</strong>
<ul>
<li>scala 模式匹配可以对集合进行精确的匹配，例如匹配只有两个元素的、且第一个元素为 0 的数组</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMatchArray</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="keyword">for</span> (arr &lt;- <span class="type">Array</span>(<span class="type">Array</span>(<span class="number">0</span>), <span class="type">Array</span>(<span class="number">1</span>, <span class="number">0</span>), <span class="type">Array</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>), <span class="type">Array</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>), <span class="type">Array</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>), <span class="type">Array</span>(<span class="string">&quot;hello&quot;</span>, <span class="number">90</span>))) &#123; <span class="comment">// 对一个数组集合进行遍历</span></span><br><span class="line">			<span class="keyword">val</span> result = arr <span class="keyword">match</span> &#123;</span><br><span class="line">				<span class="keyword">case</span> <span class="type">Array</span>(<span class="number">0</span>) =&gt; <span class="string">&quot;0&quot;</span> <span class="comment">//匹配 Array(0) 这个数组</span></span><br><span class="line">				<span class="keyword">case</span> <span class="type">Array</span>(x, y) =&gt; x + <span class="string">&quot;,&quot;</span> + y <span class="comment">//匹配有两个元素的数组，然后将将元素值赋给对应的 x,y</span></span><br><span class="line">				<span class="keyword">case</span> <span class="type">Array</span>(<span class="number">0</span>, _*) =&gt; <span class="string">&quot;以 0 开头的数组&quot;</span> <span class="comment">//匹配以 0 开头和数组</span></span><br><span class="line">				<span class="keyword">case</span> _ =&gt; <span class="string">&quot;something else&quot;</span></span><br><span class="line">			&#125;</span><br><span class="line">			println(<span class="string">&quot;result = &quot;</span> + result)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">result = 0</span><br><span class="line">result = 1,0</span><br><span class="line">result = 以 0 开头的数组</span><br><span class="line">result = something else</span><br><span class="line">result = something else</span><br><span class="line">result = hello,90</span><br></pre></td></tr></table></figure>
<h3 id="4-匹配列表">4.匹配列表</h3>
<ul>
<li><strong>方式一</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMatchList</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">//list 是一个存放 List 集合的数组</span></span><br><span class="line">		<span class="comment">//请思考，如果要匹配 List(88) 这样的只含有一个元素的列表,并原值返回.应该怎么写</span></span><br><span class="line">		<span class="keyword">for</span> (list &lt;- <span class="type">Array</span>(<span class="type">List</span>(<span class="number">0</span>), <span class="type">List</span>(<span class="number">1</span>, <span class="number">0</span>), <span class="type">List</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="type">List</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="type">List</span>(<span class="number">88</span>))) &#123;</span><br><span class="line">			<span class="keyword">val</span> result = list <span class="keyword">match</span> &#123;</span><br><span class="line">				<span class="keyword">case</span> <span class="type">List</span>(<span class="number">0</span>) =&gt; <span class="string">&quot;0&quot;</span> <span class="comment">//匹配 List(0)</span></span><br><span class="line">				<span class="keyword">case</span> <span class="type">List</span>(x, y) =&gt; x + <span class="string">&quot;,&quot;</span> + y <span class="comment">//匹配有两个元素的 List</span></span><br><span class="line">				<span class="keyword">case</span> <span class="type">List</span>(<span class="number">0</span>, _*) =&gt; <span class="string">&quot;0 ...&quot;</span></span><br><span class="line">				<span class="keyword">case</span> _ =&gt; <span class="string">&quot;something else&quot;</span></span><br><span class="line">			&#125;</span><br><span class="line">			println(result)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">1,0</span><br><span class="line">0 ...</span><br><span class="line">something else</span><br><span class="line">something else</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>方式二</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMatchList</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="keyword">val</span> list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)</span><br><span class="line">		list <span class="keyword">match</span> &#123;</span><br><span class="line">			<span class="keyword">case</span> first :: second :: rest =&gt; println(first + <span class="string">&quot;-&quot;</span> + second + <span class="string">&quot;-&quot;</span> + rest)</span><br><span class="line">			<span class="keyword">case</span> _ =&gt; println(<span class="string">&quot;something else&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1-2-List(5, 6, 7)</span><br></pre></td></tr></table></figure>
<h3 id="5-匹配元组">5.匹配元组</h3>
<ul>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMatchTuple</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">//对一个元组集合进行遍历</span></span><br><span class="line">		<span class="keyword">for</span> (tuple &lt;- <span class="type">Array</span>((<span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>))) &#123;</span><br><span class="line">			<span class="keyword">val</span> result = tuple <span class="keyword">match</span> &#123;</span><br><span class="line">				<span class="keyword">case</span> (<span class="number">0</span>, _) =&gt; <span class="string">&quot;0 ...&quot;</span> <span class="comment">//是第一个元素是 0 的元组</span></span><br><span class="line">				<span class="keyword">case</span> (y, <span class="number">0</span>) =&gt; <span class="string">&quot;&quot;</span> + y + <span class="string">&quot;0&quot;</span> <span class="comment">// 匹配后一个元素是 0 的对偶元组</span></span><br><span class="line">				<span class="keyword">case</span> (a, b) =&gt; <span class="string">&quot;&quot;</span> + a + <span class="string">&quot; &quot;</span> + b</span><br><span class="line">				<span class="keyword">case</span> _ =&gt; <span class="string">&quot;something else&quot;</span> <span class="comment">//默认</span></span><br><span class="line">			&#125;</span><br><span class="line">			println(result)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0 ...</span><br><span class="line">10</span><br><span class="line">1 1</span><br><span class="line">something else</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>扩展案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestGeneric</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//特殊的模式匹配 1 打印元组第一个元素</span></span><br><span class="line">		<span class="keyword">for</span> (elem &lt;- <span class="type">Array</span>((<span class="string">&quot;a&quot;</span>, <span class="number">1</span>), (<span class="string">&quot;b&quot;</span>, <span class="number">2</span>), (<span class="string">&quot;c&quot;</span>, <span class="number">3</span>))) &#123;</span><br><span class="line">			println(elem._1)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> ((word,count) &lt;- <span class="type">Array</span>((<span class="string">&quot;a&quot;</span>, <span class="number">1</span>), (<span class="string">&quot;b&quot;</span>, <span class="number">2</span>), (<span class="string">&quot;c&quot;</span>, <span class="number">3</span>))) &#123;</span><br><span class="line">			println(word)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> ((word,_) &lt;- <span class="type">Array</span>((<span class="string">&quot;a&quot;</span>, <span class="number">1</span>), (<span class="string">&quot;b&quot;</span>, <span class="number">2</span>), (<span class="string">&quot;c&quot;</span>, <span class="number">3</span>))) &#123;</span><br><span class="line">			println(word)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> ((<span class="string">&quot;a&quot;</span>,count) &lt;- <span class="type">Array</span>((<span class="string">&quot;a&quot;</span>, <span class="number">1</span>), (<span class="string">&quot;b&quot;</span>, <span class="number">2</span>), (<span class="string">&quot;c&quot;</span>, <span class="number">3</span>))) &#123;</span><br><span class="line">			println(count)</span><br><span class="line">		&#125;</span><br><span class="line">		println(<span class="string">&quot;--------------&quot;</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//特殊的模式匹配 2 给元组元素命名</span></span><br><span class="line">		<span class="keyword">var</span> (id,name,age): (<span class="type">Int</span>, <span class="type">String</span>, <span class="type">Int</span>) = (<span class="number">100</span>, <span class="string">&quot;zs&quot;</span>, <span class="number">20</span>)</span><br><span class="line">		println((id,name,age))</span><br><span class="line">		println(<span class="string">&quot;--------------&quot;</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//特殊的模式匹配 3 遍历集合中的元组，给 count * 2</span></span><br><span class="line">		<span class="keyword">var</span> list: <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = <span class="type">List</span>((<span class="string">&quot;a&quot;</span>, <span class="number">1</span>), (<span class="string">&quot;b&quot;</span>, <span class="number">2</span>), (<span class="string">&quot;c&quot;</span>, <span class="number">3</span>))</span><br><span class="line">		<span class="comment">//println(list.map(t =&gt; (t._1, t._2 * 2)))</span></span><br><span class="line">		println(</span><br><span class="line">			list.map&#123;</span><br><span class="line">				<span class="keyword">case</span> (word,count)=&gt;(word,count*<span class="number">2</span>)</span><br><span class="line">			&#125;</span><br><span class="line">		)</span><br><span class="line">		<span class="keyword">var</span> list1 = <span class="type">List</span>((<span class="string">&quot;a&quot;</span>, (<span class="string">&quot;a&quot;</span>, <span class="number">1</span>)), (<span class="string">&quot;b&quot;</span>, (<span class="string">&quot;b&quot;</span>, <span class="number">2</span>)), (<span class="string">&quot;c&quot;</span>, (<span class="string">&quot;c&quot;</span>, <span class="number">3</span>)))</span><br><span class="line">		println(</span><br><span class="line">			list1.map&#123;</span><br><span class="line">				<span class="keyword">case</span> (groupkey,(word,count))=&gt;(word,count*<span class="number">2</span>)</span><br><span class="line">			&#125;</span><br><span class="line">		)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">1</span><br><span class="line">--------------</span><br><span class="line">(100,zs,20)</span><br><span class="line">--------------</span><br><span class="line">List((a,2), (b,4), (c,6))</span><br><span class="line">List((a,2), (b,4), (c,6))</span><br></pre></td></tr></table></figure>
<h3 id="6-匹配对象及样例类">6.匹配对象及样例类</h3>
<ul>
<li><strong>基本语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">val name: <span class="type">String</span>, val age: <span class="type">Int</span></span>)</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">User</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(name: <span class="type">String</span>, age: <span class="type">Int</span>): <span class="type">User</span> = <span class="keyword">new</span> <span class="type">User</span>(name, age)</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">unapply</span></span>(user: <span class="type">User</span>): <span class="type">Option</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = &#123;</span><br><span class="line">		<span class="keyword">if</span> (user == <span class="literal">null</span>)</span><br><span class="line">			<span class="type">None</span></span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="type">Some</span>(user.name, user.age)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMatchUnapply</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="keyword">val</span> user: <span class="type">User</span> = <span class="type">User</span>(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">11</span>)</span><br><span class="line">		<span class="keyword">val</span> result = user <span class="keyword">match</span> &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="type">User</span>(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">11</span>) =&gt; <span class="string">&quot;yes&quot;</span></span><br><span class="line">			<span class="keyword">case</span> _ =&gt; <span class="string">&quot;no&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">		println(result)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yes</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>小结</strong>
<ul>
<li>val user = User(“zhangsan”,11)，该语句在执行时，实际调用的是 User 伴生对象中的apply 方法，因此不用 new 关键字就能构造出相应的对象</li>
<li>当将 User(“zhangsan”, 11)写在 case 后时[case User(“zhangsan”, 11) =&gt; “yes”]，会默认调用 unapply 方法(对象提取器)，<font color=red>user 作为 unapply 方法的参数</font>，unapply 方法将 user 对象的 name 和 age 属性提取出来，与 User(“zhangsan”, 11)中的属性值进行匹配</li>
<li>case 中对象的 unapply 方法(提取器)返回 Some，且所有属性均一致，才算匹配成功,属性不一致，或返回 None，则匹配失败</li>
<li>若只提取对象的一个属性，则提取器为 <font color=red>unapply</font>(obj:Obj):<font color=red>Option[</font>T<font color=red>]</font><br>
若提取对象的多个属性，则提取器为 <font color=red>unapply</font>(obj:Obj):<font color=red>Option[</font>(T1,T2,T3…)<font color=red>]</font><br>
若提取对象的可变个属性，则提取器为<font color=red> unapplySeq</font>(obj:Obj):<font color=red>Option[</font>Seq[T]<font color=red>]</font></li>
</ul>
</li>
<li><strong>样例类</strong>
<ul>
<li><strong>语法</strong></li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> (<span class="params">name: <span class="type">String</span>, age: <span class="type">Int</span></span>)</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>样例类仍然是类，和普通类相比，只是其自动生成了伴生对象，并且伴生对象中<br>
自动提供了一些常用的方法，如 apply、unapply、toString、equals、hashCode 和 copy</li>
<li>样例类是为模式匹配而优化的类，因为其默认提供了 unapply 方法，因此，样例<br>
类可以直接使用模式匹配，而无需自己实现 unapply 方法</li>
<li>构造器中的每一个参数都成为 val，除非它被显式地声明为 var（不建议这样做）</li>
</ul>
</li>
<li><strong>演示</strong>
<ul>
<li>上述匹配对象的案例使用样例类会节省大量代码</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">name: <span class="type">String</span>, age: <span class="type">Int</span></span>)</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMatchUnapply</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="keyword">val</span> user: <span class="type">User</span> = <span class="type">User</span>(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">11</span>)</span><br><span class="line">			<span class="keyword">val</span> result = user <span class="keyword">match</span> &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="type">User</span>(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">11</span>) =&gt; <span class="string">&quot;yes&quot;</span></span><br><span class="line">			<span class="keyword">case</span> _ =&gt; <span class="string">&quot;no&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">		println(result)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yes</span><br></pre></td></tr></table></figure>
<h3 id="4-变量声明中的模式匹配">4.变量声明中的模式匹配</h3>
<ul>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">name: <span class="type">String</span>, age: <span class="type">Int</span></span>)</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMatchVariable</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">val</span> (x, y) = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">		println(<span class="string">s&quot;x=<span class="subst">$x</span>,y=<span class="subst">$y</span>&quot;</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">val</span> <span class="type">Array</span>(first, second, _*) = <span class="type">Array</span>(<span class="number">1</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">9</span>)</span><br><span class="line">		println(<span class="string">s&quot;first=<span class="subst">$first</span>,second=<span class="subst">$second</span>&quot;</span>)</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">val</span> <span class="type">Person</span>(name, age) = <span class="type">Person1</span>(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">16</span>)</span><br><span class="line">		println(<span class="string">s&quot;name=<span class="subst">$name</span>,age=<span class="subst">$age</span>&quot;</span>)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x=1,y=2</span><br><span class="line">first=1,second=7</span><br><span class="line">name=zhangsan,age=16</span><br></pre></td></tr></table></figure>
<h3 id="5-for-表达式中的模式匹配">5.for 表达式中的模式匹配</h3>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestMatchFor</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="keyword">val</span> map = <span class="type">Map</span>(<span class="string">&quot;A&quot;</span> -&gt; <span class="number">1</span>, <span class="string">&quot;B&quot;</span> -&gt; <span class="number">0</span>, <span class="string">&quot;C&quot;</span> -&gt; <span class="number">3</span>)</span><br><span class="line">		<span class="keyword">for</span> ((k, v) &lt;- map) &#123; <span class="comment">//直接将 map 中的 k-v 遍历出来</span></span><br><span class="line">			println(k + <span class="string">&quot; -&gt; &quot;</span> + v) <span class="comment">//3 个</span></span><br><span class="line">		&#125;</span><br><span class="line">		println(<span class="string">&quot;----------------------&quot;</span>)</span><br><span class="line">		<span class="comment">//遍历 value=0 的 k-v ,如果 v 不是 0,过滤</span></span><br><span class="line">		<span class="keyword">for</span> ((k, <span class="number">0</span>) &lt;- map) &#123;</span><br><span class="line">			println(k + <span class="string">&quot; --&gt; &quot;</span> + <span class="number">0</span>) <span class="comment">// B-&gt;0</span></span><br><span class="line">		&#125;</span><br><span class="line">		println(<span class="string">&quot;----------------------&quot;</span>)</span><br><span class="line">		<span class="comment">//if v == 0 是一个过滤的条件</span></span><br><span class="line">		<span class="keyword">for</span> ((k, v) &lt;- map <span class="keyword">if</span> v &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">			println(k + <span class="string">&quot; ---&gt; &quot;</span> + v) <span class="comment">// A-&gt;1 和 c-&gt;33</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">A -&gt; 1</span><br><span class="line">B -&gt; 0</span><br><span class="line">C -&gt; 3</span><br><span class="line">----------------------</span><br><span class="line">B --&gt; 0</span><br><span class="line">----------------------</span><br><span class="line">A ---&gt; 1</span><br><span class="line">C ---&gt; 3</span><br></pre></td></tr></table></figure>
<h3 id="6-偏函数中的模式匹配">6.偏函数中的模式匹配</h3>
<p><strong>偏函数也是函数的一种，通过偏函数我们可以方便的对输入参数做更精确的检查。例如该偏函数的输入类型为 List[Int]，而我们需要的是第一个元素是 0 的集合，这就是通过模式匹配实现的</strong></p>
<ul>
<li><strong>偏函数定义</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> second: <span class="type">PartialFunction</span>[<span class="type">List</span>[<span class="type">Int</span>], <span class="type">Option</span>[<span class="type">Int</span>]] = &#123;</span><br><span class="line">	<span class="keyword">case</span> x :: y :: _ =&gt; <span class="type">Some</span>(y)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20210410114442398.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc1ODg3Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>
<strong>注</strong>：该偏函数的功能是返回输入的 List 集合的第二个元素</p>
<ul>
<li><strong>偏函数原理</strong>
<ul>
<li>上述代码会被 scala 编译器翻译成以下代码，与普通函数相比，只是多了一个用于参数检查的函数——isDefinedAt，其返回值类型为 Boolean</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> second = <span class="keyword">new</span> <span class="type">PartialFunction</span>[<span class="type">List</span>[<span class="type">Int</span>], <span class="type">Option</span>[<span class="type">Int</span>]] &#123;</span><br><span class="line">	<span class="comment">//检查输入参数是否合格</span></span><br><span class="line">	<span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">isDefinedAt</span></span>(list: <span class="type">List</span>[<span class="type">Int</span>]): <span class="type">Boolean</span> = list <span class="keyword">match</span> &#123;</span><br><span class="line">		<span class="keyword">case</span> x :: y :: _ =&gt; <span class="literal">true</span></span><br><span class="line">		<span class="keyword">case</span> _ =&gt; <span class="literal">false</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//执行函数逻辑</span></span><br><span class="line">	<span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(list: <span class="type">List</span>[<span class="type">Int</span>]): <span class="type">Option</span>[<span class="type">Int</span>] = list <span class="keyword">match</span> &#123;</span><br><span class="line">		<span class="keyword">case</span> x :: y :: _ =&gt; <span class="type">Some</span>(y)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>偏函数使用</strong>
<ul>
<li>偏函数不能像 second(List(1,2,3))这样直接使用，因为这样会直接调用 apply 方法，而应该调用 applyOrElse 方法，如下面的代码</li>
<li>applyOrElse 方法的逻辑为 if (ifDefinedAt(list)) apply(list) else default。如果输入参数满足条件，即 isDefinedAt 返回 true，则执行 apply 方法，否则执行 defalut 方法，default 方法为参数不满足要求的处理逻辑</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">second.applyOrElse(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>), (_: <span class="type">List</span>[<span class="type">Int</span>]) =&gt; <span class="type">None</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>案例</strong>
<ul>
<li>将 List(1,2,3,4,5,6,“test”)中的 Int 类型的元素加一，并去掉字符串</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	<span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="string">&quot;test&quot;</span>)</span><br><span class="line">	<span class="keyword">val</span> list1 = list.map &#123;</span><br><span class="line">	a =&gt;</span><br><span class="line">		a <span class="keyword">match</span> &#123;</span><br><span class="line">			<span class="keyword">case</span> i: <span class="type">Int</span> =&gt; i + <span class="number">1</span></span><br><span class="line">			<span class="keyword">case</span> s: <span class="type">String</span> =&gt;s + <span class="number">1</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	println(list1.filter(a=&gt;a.isInstanceOf[<span class="type">Int</span>]))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List(2, 3, 4, 5, 6, 7)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>偏函数实现</strong>
<ul>
<li>方法一</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="string">&quot;test&quot;</span>).filter(_.isInstanceOf[<span class="type">Int</span>]).map(_.asInstanceOf[<span class="type">Int</span>] + <span class="number">1</span>).foreach(println)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td></tr></table></figure>
<ul>
<li>方法二</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="string">&quot;test&quot;</span>).collect &#123; <span class="keyword">case</span> x: <span class="type">Int</span> =&gt; x + <span class="number">1</span> &#125;.foreach(println)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td></tr></table></figure>
<h1 id="九、异常">九、异常</h1>
<h2 id="Java异常处理">Java异常处理</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionDemo</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">			<span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">			<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a / b;</span><br><span class="line">		&#125;<span class="keyword">catch</span> (ArithmeticException e)&#123;</span><br><span class="line">			<span class="comment">// catch 时，需要将范围小的写到前面</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">&quot;finally&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>注意事项</strong>
<ul>
<li>Java 语言按照 try—catch—finally 的方式来处理异常</li>
<li>不管有没有异常捕获，都会执行 finally，因此通常可以在 finally 代码块中释放资<br>
源</li>
<li>可以有多个 catch，分别捕获对应的异常，这时需要把范围小的异常类写在前面，把范围大的异常类写在后面，否则编译错误</li>
</ul>
</li>
</ul>
<h2 id="Scala异常处理">Scala异常处理</h2>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="keyword">var</span> n= <span class="number">10</span> / <span class="number">0</span></span><br><span class="line">	&#125;<span class="keyword">catch</span> &#123;</span><br><span class="line">		<span class="keyword">case</span> ex: <span class="type">ArithmeticException</span>=&gt;&#123;</span><br><span class="line">			<span class="comment">// 发生算术异常</span></span><br><span class="line">			println(<span class="string">&quot;发生算术异常&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">case</span> ex: <span class="type">Exception</span>=&gt;&#123;</span><br><span class="line">			<span class="comment">// 对异常处理</span></span><br><span class="line">			println(<span class="string">&quot;发生了异常 1&quot;</span>)</span><br><span class="line">			println(<span class="string">&quot;发生了异常 2&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">		println(<span class="string">&quot;finally&quot;</span>)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>我们将可疑代码封装在 try 块中。在 try 块之后使用了一个 catch 处理程序来捕获异<br>
常；如果发生任何异常，catch 处理程序将处理它，程序将不会异常终止</li>
<li>Scala 的异常的工作机制和 Java 一样，但是<font color=red> Scala 没有“checked（编译期）”异常</font>， 即 Scala 没有编译异常这个概念，异常都是在运行的时候捕获处理</li>
<li>异常捕捉的机制与其他语言中一样，如果有异常发生，catch 子句是按次序捕捉的。<br>
因此，在 catch 子句中，越具体的异常越要靠前，越普遍的异常越靠后，如果把越普遍的异常写在前，把具体的异常写在后，在 Scala 中也不会报错，但这样是非常不好的编程风格</li>
<li>finally 子句用于执行不管是正常处理还是有异常发生时都需要执行的步骤，一般用<br>
于对象的清理工作，这点和 Java 一样</li>
<li>用 throw 关键字，抛出一个异常对象。所有<font color=red>异常都是 Throwable 的子类型。throw 表达式是有类型的，就是 Nothing</font>，因为 Nothing 是所有类型的子类型，所以 throw 表达式可以用在需要类型的地方</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span></span>():<span class="type">Nothing</span> = &#123;</span><br><span class="line">	<span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Exception</span>(<span class="string">&quot;不对&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>java 提供了 throws 关键字来声明异常。可以使用方法定义声明异常。它向调用者函<br>
数提供了此方法可能引发此异常的信息。它有助于调用函数处理并将该代码包含在 try-catch块中，以避免程序异常终止。在 Scala 中，可以使用 throws 注解来声明异常</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">	f11()</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@throws</span>(classOf[<span class="type">NumberFormatException</span>])</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f11</span></span>()=&#123;</span><br><span class="line">	<span class="string">&quot;abc&quot;</span>.toInt</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十、隐式转换">十、隐式转换</h1>
<p><strong><font color=red>当编译器第一次编译失败的时候，会在当前的环境中查找能让代码编译通过的方法，用于将类型进行转换，实现二次编译</font></strong></p>
<h2 id="隐式函数">隐式函数</h2>
<ul>
<li><strong>说明</strong>
<ul>
<li>隐式转换可以在不需改任何代码的情况下，扩展某个类的功能</li>
</ul>
</li>
<li><strong>演示</strong>
<ul>
<li>通过隐式转化为 Int 类型增加方法</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRichInt</span>(<span class="params">val self: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">myMax</span></span>(i: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">		<span class="keyword">if</span> (self &lt; i) i <span class="keyword">else</span> self</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">myMin</span></span>(i: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">		<span class="keyword">if</span> (self &lt; i) self <span class="keyword">else</span> i</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestImplicitFunction</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 使用 implicit 关键字声明的函数称之为隐式函数</span></span><br><span class="line">	<span class="keyword">implicit</span> <span class="function"><span class="keyword">def</span> <span class="title">convert</span></span>(arg: <span class="type">Int</span>): <span class="type">MyRichInt</span> = &#123;</span><br><span class="line">		<span class="keyword">new</span> <span class="type">MyRichInt</span>(arg)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">// 当想调用对象功能时，如果编译错误，那么编译器会尝试在当前作用域范围内查找能调用对应功能的转换规则，这个调用过程是由编译器完成的，所以称之为隐式转换。也称之为自动转换</span></span><br><span class="line">		println(<span class="number">2.</span>myMax(<span class="number">6</span>))</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6</span><br></pre></td></tr></table></figure>
<h2 id="隐式参数">隐式参数</h2>
<p><strong>普通方法或者函数中的参数可以通过<font color=red> implicit </font>关键字声明为隐式参数，调用该方法时，就可以传入该参数，编译器会在相应的作用域寻找符合条件的隐式值</strong></p>
<ul>
<li><strong>说明</strong>
<ul>
<li>同一个作用域中，相同类型的隐式值只能有一个</li>
<li>编译器按照隐式参数的类型去寻找对应类型的隐式值，与隐式值的名称无关</li>
<li>隐式参数优先于默认参数</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestImplicitParameter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">implicit</span> <span class="keyword">val</span> str: <span class="type">String</span> = <span class="string">&quot;hello world!&quot;</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">hello</span></span>(<span class="keyword">implicit</span> arg: <span class="type">String</span>=<span class="string">&quot;good bey world!&quot;</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">		println(arg)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		hello</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello world!</span><br></pre></td></tr></table></figure>
<h2 id="隐式类">隐式类</h2>
<p><strong>在 Scala2.10 后提供了隐式类，可以使用 <font color=red>implicit </font>声明类，隐式类的非常强大，同样可以扩展类的功能，在集合中隐式类会发挥重要的作用</strong></p>
<ul>
<li><strong>说明</strong>
<ul>
<li>其所带的构造参数有且只能有一个</li>
<li>隐式类必须被定义在“类”或“伴生对象”或“包对象”里，即隐式类不能是 <font color=red>顶级</font>的</li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestImplicitClass</span> </span>&#123;</span><br><span class="line">	<span class="keyword">implicit</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRichInt</span>(<span class="params">arg: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">def</span> <span class="title">myMax</span></span>(i: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">			<span class="keyword">if</span> (arg &lt; i) i <span class="keyword">else</span> arg</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">def</span> <span class="title">myMin</span></span>(i: <span class="type">Int</span>) = &#123;</span><br><span class="line">			<span class="keyword">if</span> (arg &lt; i) arg <span class="keyword">else</span> i</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		println(<span class="number">1.</span>myMax(<span class="number">3</span>))</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure>
<h2 id="隐式解析机制">隐式解析机制</h2>
<ul>
<li><strong>说明</strong>
<ul>
<li>首先会在当前代码作用域下查找隐式实体（隐式方法、隐式类、隐式对象） <font color=red>（一般情况下） </font></li>
<li>如果第一条规则查找隐式实体失败，会继续在隐式参数的类型的作用域里查找。类型的作用域是指与<font color=red>该类型相关联的全部伴生对象 </font>以及<font color=red>该类型所在包的包对象 </font></li>
</ul>
</li>
<li><strong>案例</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.atguigu.chapter10.<span class="type">Scala05_Transform4</span>.<span class="type">Teacher</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果第一条规则查找隐式实体失败，会继续在隐式参数的类型的作用域里查找。类型的作用域是指与该类型相关联的全部伴生模块，</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestTransform</span> <span class="keyword">extends</span> <span class="title">PersonTrait</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">//（1）首先会在当前代码作用域下查找隐式实体</span></span><br><span class="line">		<span class="keyword">val</span> teacher = <span class="keyword">new</span> <span class="type">Teacher</span>()</span><br><span class="line">		teacher.eat()</span><br><span class="line">		teacher.say()</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">			println(<span class="string">&quot;eat...&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">PersonTrait</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">PersonTrait</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 隐式类 : 类型 1 =&gt; 类型 2</span></span><br><span class="line">	<span class="keyword">implicit</span> <span class="class"><span class="keyword">class</span> <span class="title">Person5</span>(<span class="params">user:<span class="type">Teacher</span></span>) </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">def</span> <span class="title">say</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">			println(<span class="string">&quot;say...&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="十一、泛型">十一、泛型</h1>
<h2 id="协变和逆变">协变和逆变</h2>
<ul>
<li><strong>语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyList</span>[+<span class="type">T</span>]</span>&#123; <span class="comment">//协变</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyList</span>[-<span class="type">T</span>]</span>&#123; <span class="comment">//逆变</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyList</span>[<span class="type">T</span>] <span class="comment">//不变</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>协变：Son 是 Father 的<font color=red>子类</font>，则 MyList[Son] 也作为 MyList[Father]的<font color=red>“子类”</font></li>
<li>逆变：Son 是 Father 的<font color=red>子类</font>，则 MyList[Son]作为 MyList[Father]的<font color=red>“父类”</font></li>
<li>不变：Son 是 Father 的<font color=red>子类</font>，则 MyList[Father]与 MyList[Son]<font color=red>“无父子关系”</font></li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//泛型模板</span></span><br><span class="line"><span class="comment">//class MyList&lt;T&gt;&#123;&#125;</span></span><br><span class="line"><span class="comment">//不变</span></span><br><span class="line"><span class="comment">//class MyList[T]&#123;&#125;</span></span><br><span class="line"><span class="comment">//协变</span></span><br><span class="line"><span class="comment">//class MyList[+T]&#123;&#125;</span></span><br><span class="line"><span class="comment">//逆变</span></span><br><span class="line"><span class="comment">//class MyList[-T]&#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Parent</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubChild</span> <span class="keyword">extends</span> <span class="title">Child</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala_TestGeneric</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">//var s:MyList[Child] = new MyList[SubChild]</span></span><br><span class="line">	</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="泛型上下限">泛型上下限</h2>
<ul>
<li><strong>语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="type">PersonList</span>[<span class="type">T</span> &lt;: <span class="type">Person</span>]&#123; <span class="comment">//泛型上限</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">Class</span> <span class="type">PersonList</span>[<span class="type">T</span> &gt;: <span class="type">Person</span>]&#123; <span class="comment">//泛型下限</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>泛型的上下限的作用是对传入的泛型进行限定</li>
</ul>
</li>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Parent</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubChild</span> <span class="keyword">extends</span> <span class="title">Child</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Scala_TestGeneric</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">		<span class="comment">//test(classOf[SubChild])</span></span><br><span class="line">		<span class="comment">//test[Child](new SubChild)</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//泛型通配符之上限</span></span><br><span class="line">	<span class="comment">//def test[A &lt;: Child](a:Class[A]): Unit =&#123;</span></span><br><span class="line">		<span class="comment">// println(a)</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="comment">//泛型通配符之下限</span></span><br><span class="line">	<span class="comment">//def test[A &gt;: Child](a:Class[A]): Unit =&#123;</span></span><br><span class="line">		<span class="comment">// println(a)</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="comment">//泛型通配符之下限 形式扩展</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">test</span></span>[<span class="type">A</span> &gt;: <span class="type">Child</span>](a:<span class="type">A</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">		println(a.getClass.getName)</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="上下文限定">上下文限定</h2>
<ul>
<li><strong>语法</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span></span>[<span class="type">A</span> : <span class="type">B</span>](a: <span class="type">A</span>) = println(a) <span class="comment">//等同于 def f[A](a:A)(implicit arg:B[A])=println(a)</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>说明</strong>
<ul>
<li>上下文限定是将泛型和隐式转换的结合产物，以下两者功能相同，使用上下文限定[A : Ordering]之后，方法内无法使用隐式参数名调用隐式参数，需要通过 <font color=red>implicitly[Ordering[A]]</font>获取隐式变量，如果此时无法查找到对应类型的隐式变量，会发生出错误</li>
</ul>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">implicit</span> <span class="keyword">val</span> x = <span class="number">1</span></span><br><span class="line"><span class="keyword">val</span> y = implicitly[<span class="type">Int</span>]</span><br><span class="line"><span class="keyword">val</span> z = implicitly[<span class="type">Double</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>演示</strong></li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span></span>[<span class="type">A</span>:<span class="type">Ordering</span>](a:<span class="type">A</span>,b:<span class="type">A</span>) =implicitly[<span class="type">Ordering</span>[<span class="type">A</span>]].compare(a,b)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span></span>[<span class="type">A</span>](a: <span class="type">A</span>, b: <span class="type">A</span>)(<span class="keyword">implicit</span> ord: <span class="type">Ordering</span>[<span class="type">A</span>]) = ord.compare(a, b)</span><br></pre></td></tr></table></figure>
<h1 id="十二、IDEA快捷键">十二、IDEA快捷键</h1>
<ul>
<li>快速生成程序入口：main</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入 main-&gt;回车</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>自动补全变量：.var</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入 <span class="number">1.</span><span class="keyword">var</span>-&gt;回车</span><br><span class="line"><span class="keyword">val</span> i: <span class="type">Int</span> = <span class="number">2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>快速打印：.sout</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入 <span class="number">1.</span>sout-&gt;回车</span><br><span class="line">println(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>快速生成 for 循环：遍历对象.for</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入 <span class="number">1</span> to <span class="number">3.</span><span class="keyword">for</span></span><br><span class="line"><span class="keyword">for</span> (elem &lt;- <span class="number">1</span> to <span class="number">3</span>) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>查看当前文件的结构：Ctrl + F12</li>
<li>格式化当前代码：Ctrl + Shift + L</li>
<li>自动为当前代码补全变量声明：Ctrl + Shift + V<br>
<img src="https://img-blog.csdnimg.cn/20210410144515501.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc1ODg3Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>
<img src="https://img-blog.csdnimg.cn/20210410144525572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc1ODg3Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>
<img src="https://img-blog.csdnimg.cn/20210410144534672.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc1ODg3Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>
<img src="https://img-blog.csdnimg.cn/20210410144542691.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDc1ODg3Ng==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://www.progrem-park.top/">一位木带感情的码农</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.progrem-park.top/2021/04/10/scala_1/">https://www.progrem-park.top/2021/04/10/scala_1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">此文章版权归 <a href=https://www.progrem-park.top/>程序园</a> 所有，如有转载，请注明来自原作者。</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a><a class="post-meta__tags" href="/tags/Scala/">Scala</a></div><div class="post_share"><div class="social-share" data-image="/img/scala/1.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/05/19/flink_1/"><img class="prev-cover" src="/img/flink/1.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Flink：从入门到放弃</div></div></a></div><div class="next-post pull-right"><a href="/2021/03/29/python_5/"><img class="next-cover" src="/img/python/1.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Python 离线安装 pymysql（适用于所有库）</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/03/31/clickhouse_10/" title="ClickHouse 实时分析（九）- ClickHouse 常规优化方案"><img class="cover" src="/img/clickhouse/1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-31</div><div class="title">ClickHouse 实时分析（九）- ClickHouse 常规优化方案</div></div></a></div><div><a href="/2022/04/02/clickhouse_12/" title="ClickHouse 实时分析（十一）- ClickHouse 高性能查询优化方案"><img class="cover" src="/img/clickhouse/1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-02</div><div class="title">ClickHouse 实时分析（十一）- ClickHouse 高性能查询优化方案</div></div></a></div><div><a href="/2022/04/01/clickhouse_11/" title="ClickHouse 实时分析（十）- ClickHouse 内置语法优化详解"><img class="cover" src="/img/clickhouse/1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-01</div><div class="title">ClickHouse 实时分析（十）- ClickHouse 内置语法优化详解</div></div></a></div><div><a href="/2022/04/08/clickhouse_14/" title="ClickHouse 实时分析（十三）- ClickHouse 物化视图详解"><img class="cover" src="/img/clickhouse/1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-08</div><div class="title">ClickHouse 实时分析（十三）- ClickHouse 物化视图详解</div></div></a></div><div><a href="/2022/04/08/clickhouse_13/" title="ClickHouse 实时分析（十二）- ClickHouse 如何保证数据一致性"><img class="cover" src="/img/clickhouse/1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-08</div><div class="title">ClickHouse 实时分析（十二）- ClickHouse 如何保证数据一致性</div></div></a></div><div><a href="/2022/04/11/clickhouse_16/" title="ClickHouse 实时分析（十五）- ClickHouse 的备份与恢复"><img class="cover" src="/img/clickhouse/1.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-11</div><div class="title">ClickHouse 实时分析（十五）- ClickHouse 的备份与恢复</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Disqus</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatat_img.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">一位木带感情的码农</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">200</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">35</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">25</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/program-park"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/program-park" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:lkm869666@126.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://blog.csdn.net/weixin_44758876" target="_blank" title="CSDN"><i class="fa-solid fa-c"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">网站正在优化中......</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81scala%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-text">一、scala的定义</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E8%A8%80%E7%89%B9%E7%82%B9"><span class="toc-text">语言特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%8F%8A%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="toc-text">环境搭建及插件安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-text">1.环境搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="toc-text">2.插件安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HelloWorld%E6%A1%88%E4%BE%8B"><span class="toc-text">HelloWorld案例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%8F%98%E9%87%8F%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">二、变量和数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-text">注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%92%8C%E5%B8%B8%E9%87%8F"><span class="toc-text">变量和常量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E7%AC%A6%E7%9A%84%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-text">标识符的命名规范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BE%93%E5%87%BA"><span class="toc-text">字符串输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5"><span class="toc-text">键盘输入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E8%AF%BB%E5%86%99%E6%93%8D%E4%BD%9C"><span class="toc-text">文件的读写操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B%EF%BC%88Byte%E3%80%81Short%E3%80%81Int%E3%80%81Long%EF%BC%89"><span class="toc-text">1.整数类型（Byte、Short、Int、Long）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B5%AE%E7%82%B9%E7%B1%BB%E5%9E%8B%EF%BC%88Float%E3%80%81Double%EF%BC%89"><span class="toc-text">2.浮点类型（Float、Double）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B%EF%BC%88Char%EF%BC%89"><span class="toc-text">3.字符类型（Char）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B%EF%BC%88Boolean%EF%BC%89"><span class="toc-text">4.布尔类型（Boolean）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Unit%E7%B1%BB%E5%9E%8B%E3%80%81Null%E7%B1%BB%E5%9E%8B%E5%92%8CNothing%E7%B1%BB%E5%9E%8B"><span class="toc-text">5.Unit类型、Null类型和Nothing类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%B1%BB%E5%9E%8B%E8%87%AA%E5%8A%A8%E8%BD%AC%E6%8D%A2"><span class="toc-text">1.类型自动转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">2.强制类型转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B%E5%92%8CString%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">3.数值类型和String类型转换</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">三、运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">关系运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">赋值运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">位运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-text">运算符的本质</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81if%E3%80%81for%E5%8F%8Awhile%E5%BE%AA%E7%8E%AF"><span class="toc-text">四、if、for及while循环</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#if%E5%88%86%E6%94%AF%E6%8E%A7%E5%88%B6"><span class="toc-text">if分支控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8D%95%E5%88%86%E6%94%AF"><span class="toc-text">1.单分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8F%8C%E5%88%86%E6%94%AF"><span class="toc-text">2.双分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%A4%9A%E5%88%86%E6%94%AF"><span class="toc-text">3.多分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%B5%8C%E5%A5%97%E5%88%86%E6%94%AF"><span class="toc-text">4.嵌套分支</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6"><span class="toc-text">for循环控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%8C%83%E5%9B%B4%E6%95%B0%E6%8D%AE%E5%BE%AA%E7%8E%AF%EF%BC%88To%EF%BC%89"><span class="toc-text">1.范围数据循环（To）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%8C%83%E5%9B%B4%E6%95%B0%E6%8D%AE%E5%BE%AA%E7%8E%AF%EF%BC%88Until%EF%BC%89"><span class="toc-text">2.范围数据循环（Until）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%BE%AA%E7%8E%AF%E5%AE%88%E5%8D%AB"><span class="toc-text">3.循环守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%BE%AA%E7%8E%AF%E6%AD%A5%E9%95%BF"><span class="toc-text">4.循环步长</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF"><span class="toc-text">5.嵌套循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%BC%95%E5%85%A5%E5%8F%98%E9%87%8F"><span class="toc-text">6.引入变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E5%BE%AA%E7%8E%AF%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">7.循环返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E5%80%92%E5%8F%99%E6%89%93%E5%8D%B0"><span class="toc-text">8.倒叙打印</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#while%E5%92%8Cdo%E2%80%A6while%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6"><span class="toc-text">while和do…while循环控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-while%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6"><span class="toc-text">1.while循环控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-do%E2%80%A6while%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6"><span class="toc-text">2.do…while循环控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%BE%AA%E7%8E%AF%E4%B8%AD%E6%96%AD"><span class="toc-text">3.循环中断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%A4%9A%E9%87%8D%E5%BE%AA%E7%8E%AF"><span class="toc-text">4.多重循环</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-text">五、函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%9F%BA%E7%A1%80"><span class="toc-text">函数基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%87%BD%E6%95%B0%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">1.函数基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%87%BD%E6%95%B0%E4%B8%8E%E6%96%B9%E6%B3%95%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">2.函数与方法的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-text">3.函数的定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-text">4.函数的参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E8%87%B3%E7%AE%80%E5%8E%9F%E5%88%99"><span class="toc-text">5.至简原则</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6"><span class="toc-text">函数进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-text">1.高阶函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-text">2.匿名函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E6%A1%88%E4%BE%8B"><span class="toc-text">3.高阶函数案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96-%E9%97%AD%E5%8C%85"><span class="toc-text">4.函数柯里化&amp;闭包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E9%80%92%E5%BD%92"><span class="toc-text">5.递归</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%8E%A7%E5%88%B6%E6%8A%BD%E8%B1%A1"><span class="toc-text">6.控制抽象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%83%B0%E6%80%A7%E5%8A%A0%E8%BD%BD"><span class="toc-text">7.惰性加载</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-text">六、面向对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Scala%E5%8C%85"><span class="toc-text">Scala包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8C%85%E7%9A%84%E5%91%BD%E5%90%8D"><span class="toc-text">1.包的命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8C%85%E8%AF%AD%E5%8F%A5"><span class="toc-text">2.包语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%8C%85%E5%AF%B9%E8%B1%A1"><span class="toc-text">3.包对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%AF%BC%E5%8C%85%E8%AF%B4%E6%98%8E"><span class="toc-text">4.导包说明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="toc-text">类和对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%B1%BB%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-text">1.类的定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%B1%9E%E6%80%A7"><span class="toc-text">2.属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90"><span class="toc-text">3.访问权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%96%B9%E6%B3%95"><span class="toc-text">4.方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-text">5.创建对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-text">6.构造器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%9E%84%E9%80%A0%E5%99%A8%E5%8F%82%E6%95%B0"><span class="toc-text">7.构造器参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E3%80%81%E7%BB%A7%E6%89%BF%E5%92%8C%E5%A4%9A%E6%80%81"><span class="toc-text">封装、继承和多态</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%B0%81%E8%A3%85"><span class="toc-text">1.封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BB%A7%E6%89%BF%E5%92%8C%E5%A4%9A%E6%80%81"><span class="toc-text">2.继承和多态</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-text">抽象类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%8A%BD%E8%B1%A1%E5%B1%9E%E6%80%A7%E5%92%8C%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-text">1.抽象属性和抽象方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8C%BF%E5%90%8D%E5%AD%90%E7%B1%BB"><span class="toc-text">2.匿名子类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E5%AF%B9%E8%B1%A1%EF%BC%88%E4%BC%B4%E7%94%9F%E5%AF%B9%E8%B1%A1%EF%BC%89"><span class="toc-text">单例对象（伴生对象）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8D%95%E4%BE%8B%E5%AF%B9%E8%B1%A1%E8%AF%AD%E6%B3%95"><span class="toc-text">1.单例对象语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-apply%E6%96%B9%E6%B3%95"><span class="toc-text">2.apply方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E8%B4%A8"><span class="toc-text">特质</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%89%B9%E8%B4%A8%E5%A3%B0%E6%98%8E"><span class="toc-text">1.特质声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%89%B9%E8%B4%A8%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">2.特质基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%89%B9%E8%B4%A8%E5%8F%A0%E5%8A%A0"><span class="toc-text">3.特质叠加</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%89%B9%E8%B4%A8%E5%8F%A0%E5%8A%A0%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-text">4.特质叠加执行顺序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%89%B9%E8%B4%A8%E8%87%AA%E8%BA%AB%E7%B1%BB%E5%9E%8B"><span class="toc-text">5.特质自身类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%89%B9%E8%B4%A8%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">6.特质和抽象类的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95"><span class="toc-text">扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%92%8C%E6%A3%80%E6%9F%A5"><span class="toc-text">1.类型转换和检查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%92%8C%E5%BA%94%E7%94%A8%E7%B1%BB"><span class="toc-text">2.枚举类和应用类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Type%E5%AE%9A%E4%B9%89%E6%96%B0%E7%B1%BB%E5%9E%8B"><span class="toc-text">3.Type定义新类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E9%9B%86%E5%90%88"><span class="toc-text">七、集合</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%AE%80%E4%BB%8B"><span class="toc-text">集合简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88%E7%BB%A7%E6%89%BF%E5%9B%BE"><span class="toc-text">1.不可变集合继承图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88%E7%BB%A7%E6%89%BF%E5%9B%BE"><span class="toc-text">2.可变集合继承图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%B8%8D%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84"><span class="toc-text">1.不可变数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84"><span class="toc-text">2.可变数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%B8%8D%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84%E4%B8%8E%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-text">3.不可变数组与可变数组的转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">4.多维数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8List"><span class="toc-text">列表List</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%B8%8D%E5%8F%AF%E5%8F%98List"><span class="toc-text">1.不可变List</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8F%AF%E5%8F%98ListBuffer"><span class="toc-text">2.可变ListBuffer</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set%E9%9B%86%E5%90%88"><span class="toc-text">Set集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%B8%8D%E5%8F%AF%E5%8F%98Set"><span class="toc-text">1.不可变Set</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8F%AF%E5%8F%98-mutable-Set"><span class="toc-text">2.可变 mutable.Set</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map%E9%9B%86%E5%90%88"><span class="toc-text">Map集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%B8%8D%E5%8F%AF%E5%8F%98Map"><span class="toc-text">1.不可变Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8F%AF%E5%8F%98Map"><span class="toc-text">2.可变Map</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%BB%84"><span class="toc-text">元组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-text">集合常用函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7%E5%92%8C%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">1.基本属性和常用操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%A1%8D%E7%94%9F%E9%9B%86%E5%90%88"><span class="toc-text">2.衍生集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%9B%86%E5%90%88%E8%AE%A1%E7%AE%97%E7%AE%80%E5%8D%95%E5%87%BD%E6%95%B0"><span class="toc-text">3.集合计算简单函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E9%9B%86%E5%90%88%E8%AE%A1%E7%AE%97%E9%AB%98%E7%BA%A7%E5%87%BD%E6%95%B0"><span class="toc-text">4.集合计算高级函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%99%AE%E9%80%9Awordcount%E6%A1%88%E4%BE%8B"><span class="toc-text">5.普通wordcount案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%A4%8D%E6%9D%82wordcount%E6%A1%88%E4%BE%8B"><span class="toc-text">6.复杂wordcount案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E9%98%9F%E5%88%97"><span class="toc-text">8.队列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E5%B9%B6%E8%A1%8C%E9%9B%86%E5%90%88"><span class="toc-text">9.并行集合</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="toc-text">八、模式匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%AE%88%E5%8D%AB"><span class="toc-text">模式守卫</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%E7%B1%BB%E5%9E%8B"><span class="toc-text">模式匹配类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8C%B9%E9%85%8D%E5%B8%B8%E9%87%8F"><span class="toc-text">1.匹配常量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8C%B9%E9%85%8D%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.匹配类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%8C%B9%E9%85%8D%E6%95%B0%E7%BB%84"><span class="toc-text">3.匹配数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%8C%B9%E9%85%8D%E5%88%97%E8%A1%A8"><span class="toc-text">4.匹配列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%8C%B9%E9%85%8D%E5%85%83%E7%BB%84"><span class="toc-text">5.匹配元组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%8C%B9%E9%85%8D%E5%AF%B9%E8%B1%A1%E5%8F%8A%E6%A0%B7%E4%BE%8B%E7%B1%BB"><span class="toc-text">6.匹配对象及样例类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="toc-text">4.变量声明中的模式匹配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-for-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="toc-text">5.for 表达式中的模式匹配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%81%8F%E5%87%BD%E6%95%B0%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="toc-text">6.偏函数中的模式匹配</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E5%BC%82%E5%B8%B8"><span class="toc-text">九、异常</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-text">Java异常处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scala%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-text">Scala异常处理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-text">十、隐式转换</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E5%87%BD%E6%95%B0"><span class="toc-text">隐式函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E5%8F%82%E6%95%B0"><span class="toc-text">隐式参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E7%B1%BB"><span class="toc-text">隐式类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E8%A7%A3%E6%9E%90%E6%9C%BA%E5%88%B6"><span class="toc-text">隐式解析机制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81%E6%B3%9B%E5%9E%8B"><span class="toc-text">十一、泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E5%8F%98%E5%92%8C%E9%80%86%E5%8F%98"><span class="toc-text">协变和逆变</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E4%B8%8A%E4%B8%8B%E9%99%90"><span class="toc-text">泛型上下限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8A%E4%B8%8B%E6%96%87%E9%99%90%E5%AE%9A"><span class="toc-text">上下文限定</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81IDEA%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-text">十二、IDEA快捷键</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/08/30/reptile_1/" title="Python 爬虫基础之 urllib 库的深入使用详解"><img src="/img/reptile/1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python 爬虫基础之 urllib 库的深入使用详解"/></a><div class="content"><a class="title" href="/2022/08/30/reptile_1/" title="Python 爬虫基础之 urllib 库的深入使用详解">Python 爬虫基础之 urllib 库的深入使用详解</a><time datetime="2022-08-30T09:15:02.000Z" title="发表于 2022-08-30 17:15:02">2022-08-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/08/15/linux_6/" title="Linux 防火墙常用命令总结"><img src="/img/linux/1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux 防火墙常用命令总结"/></a><div class="content"><a class="title" href="/2022/08/15/linux_6/" title="Linux 防火墙常用命令总结">Linux 防火墙常用命令总结</a><time datetime="2022-08-15T07:20:44.000Z" title="发表于 2022-08-15 15:20:44">2022-08-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/31/linux_5/" title="Linux 基础命令之 tar 解压缩详解"><img src="/img/linux/1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux 基础命令之 tar 解压缩详解"/></a><div class="content"><a class="title" href="/2022/07/31/linux_5/" title="Linux 基础命令之 tar 解压缩详解">Linux 基础命令之 tar 解压缩详解</a><time datetime="2022-07-31T00:22:50.000Z" title="发表于 2022-07-31 08:22:50">2022-07-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/13/nginx_16/" title="Nginx 从入门到入坟（十五）- Nginx + Tomcat 部署实现动静分离"><img src="/img/nginx/1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx 从入门到入坟（十五）- Nginx + Tomcat 部署实现动静分离"/></a><div class="content"><a class="title" href="/2022/07/13/nginx_16/" title="Nginx 从入门到入坟（十五）- Nginx + Tomcat 部署实现动静分离">Nginx 从入门到入坟（十五）- Nginx + Tomcat 部署实现动静分离</a><time datetime="2022-07-13T07:33:23.000Z" title="发表于 2022-07-13 15:33:23">2022-07-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/04/nginx_15/" title="Nginx 从入门到入坟（十四）- Nginx 缓存深入研究"><img src="/img/nginx/1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nginx 从入门到入坟（十四）- Nginx 缓存深入研究"/></a><div class="content"><a class="title" href="/2022/07/04/nginx_15/" title="Nginx 从入门到入坟（十四）- Nginx 缓存深入研究">Nginx 从入门到入坟（十四）- Nginx 缓存深入研究</a><time datetime="2022-07-04T04:20:02.000Z" title="发表于 2022-07-04 12:20:02">2022-07-04</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/9.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 By 一位木带感情的码农</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '',
      appKey: '',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://www.progrem-park.top/2021/04/10/scala_1/'
    this.page.identifier = '/2021/04/10/scala_1/'
    this.page.title = '大数据开发必备技能，Scala 零基础笔记'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }

  document.getElementById('darkmode').addEventListener('click', () => {
    setTimeout(() => window.disqusReset(), 200)
  })
}

if ('Valine' === 'Disqus' || !false) {
  if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>